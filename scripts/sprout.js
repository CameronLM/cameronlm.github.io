var _____WB$wombat$assign$function_____=function(name){return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name))||self[name];};if(!self.__WB_pmw){self.__WB_pmw=function(obj){this.__WB_source=obj;return this;}}{
let window = _____WB$wombat$assign$function_____("window");
let self = _____WB$wombat$assign$function_____("self");
let document = _____WB$wombat$assign$function_____("document");
let location = _____WB$wombat$assign$function_____("location");
let top = _____WB$wombat$assign$function_____("top");
let parent = _____WB$wombat$assign$function_____("parent");
let frames = _____WB$wombat$assign$function_____("frames");
let opens = _____WB$wombat$assign$function_____("opens");
"use strict";var Sprout={};Sprout.Utils={},Sprout.Global={},Sprout.Components={},Sprout.Pages={},Sprout.Polyfills={},Sprout.user=null,Sprout.mvpd={};var Drupal,$pdk=$pdk||{},gigya=gigya||null,googletag=googletag||null;
Sprout.Utils=function(){var e,t=!1,n=!1,r=document.createElement("fake"),o=["webkitTransform","transform","msTransform","oTransform"];for(e=o.length;e--;)if(void 0!==r.style[o[e]]){n=o[e];break}return{transition:t,transform:n,isTouchDevice:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||!1,isMobile:/Android(.)+mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isTablet:/android|ipad|playbook|silk/i.test(navigator.userAgent),isFileInputSupported:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/)||"undefined"==typeof FormData)return!1;var e=document.createElement("input");return e.type="file",!e.disabled},isFileReaderSupported:!!window.FileReader,isUserAuthenticated:document.cookie&&document.cookie.indexOf("Drupal.visitor.us=1")>=0,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],featureDetection:function(){var e=document.querySelector("body");$(e).addClass("js"),this.isTouchDevice&&$(e).addClass("touch"),this.isMobile?$(e).addClass("mobile"):this.isTablet&&$(e).addClass("tablet"),this.transform&&!this.isTouchDevice&&$(e).addClass("is-animatable"),this.isFileInputSupported()||$(e).addClass("no-file-input")},scrollElement:function(e,t,n,r){function o(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t}function i(t){a=a||t;var n=t-a,r=o(n,c,d,s);e.scrollTop=r,s>n&&requestAnimationFrame(i)}n=n||0;var a,s=500,c=e.scrollTop,u=~~(t.getBoundingClientRect().top-n),l=e.scrollHeight,d=l>c+u?u:l-c;requestAnimationFrame(i),"function"==typeof r&&window.setTimeout(r,s)},scrollPage:function(e,t,n){var r=/firefox|trident/i.test(navigator.userAgent)?document.documentElement:document.body;Sprout.Utils.scrollElement(r,e,t,n)},deactivateScroll:function(e){function t(e){e.preventDefault()}e=e||!1,e?document.addEventListener("touchmove",t,!1):document.removeEventListener("touchmove",t,!1)},animateIn:function(e,t){function n(e){function n(){r=e.getBoundingClientRect().top,r+=t,r<window.innerHeight&&($(e).addClass("animated"),window.removeEventListener("scroll",n),window.removeEventListener("resize",n))}var r;window.addEventListener("scroll",n),window.addEventListener("resize",n),n()}var r=document.querySelectorAll(e);return t=t||50,r.length&&r[0].getBoundingClientRect&&!Sprout.Utils.isTouchDevice?(r=Array.prototype.slice.call(r,0),void r.forEach(n)):!1},loadAsset:function(e,t){var n,r=document.querySelector("head");"js"===e.split(".")[1]?(n=document.createElement("script"),n.type="text/javascript",n.src=e):(n=document.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=e),n.onreadystatechange=t,n.onload=t,r.appendChild(n)},setScheduleTimer:function(e,t,n,r){var o=n;t>=o&&(o=r);var i=1e3*(o-t+1);(isNaN(i)||6e4>i)&&(i=6e4),setTimeout(e,i)},serialize:function(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var o=t?t+"["+r+"]":r,i=e[r];n.push("object"==typeof i?Sprout.Utils.serialize(i,o):encodeURIComponent(o)+"="+encodeURIComponent(i))}return n.join("&")},getDataOptions:function(e){var t,n=e.getAttribute("data-options")||"{}";try{t=JSON.parse(n.replace(/'/g,'"')),_.each(t,function(e,n){"string"==typeof e&&(t[n]=decodeURIComponent(e))})}catch(r){t={}}return t},getDataValue:function(e,t){return e?e.getAttribute("data-"+t):null},previewImageFile:function(e,t){if(this.isFileReaderSupported){var n,r=new FileReader;r.addEventListener("load",function(e){n=e.target.result,t.src=n}),r.readAsDataURL(e)}else t.src=""},getAge:function(e){_.isString(e)&&(e=Sprout.Utils.formatGNUDate(e));var t=0,n=e.getDate(),r=e.getMonth()+1,o=e.getYear(),i=new Date,a=i.getDate(),s=i.getMonth()+1,c=i.getYear();return t=c-o,r>s&&t--,s===r&&n>a&&t--,isNaN(t)&&(t=0),t},formatGNUDate:function(e){return new Date(e.replace(/-/g,"/"))},formatTime:function(e,t){var n="";return n+=e%12>0?e%12:"12",t>0&&(10>t&&(t="0"+t),n+=":"+t),n+(12>e?"am":"pm")},formatDateTime:function(e){function t(e){var t=new Date,n="",r=t.getDay(),o=e.getDay();return n=r===o?"Today":(r+1)%7===o?"Tomorrow":Sprout.Utils.days[o]}var n=e.getHours(),r=e.getMinutes(),o="";return o=t(e),o+" "+this.formatTime(n,r)},showDefaultAirTime:function(e,t){function n(){var i;t=t?new Date(t.replace(/-/g,"/")):r.current?new Date(r.current):new Date;var a=60*t.getHours()+t.getMinutes(),s=_.find(r["default"],function(e){try{if(e=e.split(":"),e=60*parseInt(e[0])+parseInt(e[1]),e>=a)return!0}catch(t){}return!1});s||(s=r["default"][0]);try{s=s.split(":"),i=new Date(t),i.setHours(parseInt(s[0]),parseInt(s[1])),i.getTime()<t.getTime()&&i.setTime(i.getTime()+864e5),o.innerHTML=Sprout.Utils.formatDateTime(i),$(e).removeClass("u-hidden"),Sprout.Utils.setScheduleTimer(n,t.getTime()/1e3,i.getTime()/1e3,i.getTime()/1e3)}catch(c){$(e).addClass("u-hidden")}$(e).removeClass("on-air")}var r=this.getDataOptions(e),o=e.querySelector(".time");r["default"]&&_.isArray(r["default"])&&r["default"].length>0&&n()},appendString:function(e,t,n,r){return e&&t>0?r?Sprout.Utils.appendString(e+n,--t,n,r):Sprout.Utils.appendString(n+e,--t,n):e},fillString:function(e,t,n,r){var o=0;if(e.length>=t)return e;switch(n?n.length>1&&(n=n.charAt(0)):n=" ",r){case"right":return e+=n,o=t-e.length,this.appendString(e,o,n,!0);case"both":return o=(t-e.length)/2,this.appendString(this.appendString(e,Math.ceil(o),n),Math.floor(o),n,!0);default:return e=n+e,o=t-e.length,this.appendString(e,o,n)}},getParentMatch:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e;){if(n.bind(e)(t))return e;e=e.parentElement}return!1},getURLParam:function(e,t){var n=new RegExp("[?&]"+t+"=([^&#]*)").exec(e);return null==n?null:n[1]||0},detectLeavingSite:function(e,t){function n(t,n){n.href&&!$(n).hasClass("js-ignore-external-link")&&(t.stopPropagation(),t.preventDefault(),e(n.href))}function r(e){var t=String(e.href),n=i.getURLParam(t,"adurl");return e.hostname&&e.hostname!==location.hostname&&(!n||n.indexOf(e.hostname)<0&&n.indexOf("sproutonline.com")<0)}function o(e){return e.hostname?e:e.parentNode?o(e.parentNode):null}var i=this;if(t){var a=_.filter(t.querySelectorAll("a"),r);_.each(a,function(e){e.addEventListener("click",function(t){n(t,e)})})}else document.addEventListener("click",function(e){var t=o(e.target);t&&r(t)&&n(e,t)})},modal:function(e,t){var n=document.querySelector(e);n&&n.modal&&(t===!0?n.modal.show():n.modal.hide())},loader:function(e){this.modal("#loader",e)},resetForm:function(e){var t=e.querySelectorAll(".field-item");_.each(t,function(e){$(e).removeClass("error");var t=e.querySelectorAll("input");_.each(t,function(e){"checkbox"===e.type?e.checked=!1:$(e).val("")}),t=e.querySelectorAll(".combobox"),_.each(t,function(e){var t=e.querySelector(".combobox-item");e.combobox&&e.combobox.selectItem(t,!0)})})},getFormValues:function(e){var t=e.querySelectorAll("input, textarea"),n={};return _.each(t,function(t){if(!t.disabled){var r=Sprout.Utils.getFieldValue(t,e);r&&(n[t.name]=r)}}),n},getFieldValue:function(e,t){var n;switch(e.type){case"radio":return t||(t=document),n=t.querySelectorAll('input[name="'+e.getAttribute("name")+'"]:checked'),n.length<1?!1:!0;case"checkbox":return e.checked?1:0;case"submit":case"button":return null;default:return $(e).val()}},getWebformValue:function(e,t){switch(t){case"select":return{und:e};case"checkbox":return e?{und:{value:"1"}}:{und:null};default:return{und:[{value:e}]}}},toggleShowing:function(e,t){var n=e?!t&&$(document.body).hasClass(e):!0;$(document.body).removeClass("show-search show-login show-channel"),"show-channel"===e&&($("header #channel-finder .zip").removeClass("u-hidden"),$("header #channel-finder .zip input").val(""),$("header #channel-finder .providers").addClass("u-hidden"),$("header #channel-finder .result").addClass("u-hidden")),n||$(document.body).addClass(e)},scrolling:function(e){if(e){var t,n=0,r=5;window.addEventListener("scroll",function(){t=!0}),setInterval(function(){if(t){var o=window.scrollY;if(Math.abs(n-o)<=r)return;e(o,n),t=!1,n=o}},250)}},removeEmptyNodes:function(e){var t=_.filter(e.childNodes,function(e){return 3===e.nodeType&&!/\S/.test(e.nodeValue)});_.each(t,function(t){e.removeChild(t)})},emptyElement:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},switchElementsStatus:function(e,t){t?_.each(e,function(e,t){$(e).attr("aria-selected",!0),$(e).addClass("selected")}):_.each(e,function(e,t){$(e).attr("aria-selected",!1),$(e).removeClass("selected")})},cookies:{getItem:function(e){for(var t=document.cookie.split(";"),n=e+"=",r=0;r<t.length;r++){for(var o=t[r];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length)}return""},setItem:function(e,t,n,r,o,i){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var a="";if(n)switch(n.constructor){case Number:a=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:a="; expires="+n;break;case Date:a="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+a+(o?"; domain="+o:"")+(r?"; path="+r:"")+(i?"; secure":""),!0},removeItem:function(e,t,n){return this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0):!1},hasItem:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;t>n;n++)e[n]=decodeURIComponent(e[n]);return e},createCookie:function(e,t,n){var r;if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),r="; expires="+o.toGMTString()}else r="Thu, 01 Jan 1970 00:00:00 GMT";document.cookie=e+"="+t+r+"; path=/"},eraseCookie:function(e){Sprout.Utils.cookies.createCookie(e,"",0)},test:function(){var e=Math.random(),t="sprout-cookie-test",n="Sprout cookie test "+e;this.setItem(t,n);var r=decodeURIComponent(this.getItem(t)),o=r===n;return this.removeItem(t),o}},htmlDecode:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue},nl2br:function(e){var t="<br />";return(e+"").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+t+"$2")},triggerAnimation:function(e,t){try{var n="animating",r=$(e).hasClass("has-animation")?$(e):$(e.querySelector(".has-animation"));r&&setTimeout(function(){r.addClass(n),setTimeout(function(){r.removeClass(n)},1e3)},t)}catch(o){}},htmlEscape:function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}}}();
Sprout.Components._init=function(e){var t=e.querySelectorAll("[data-component]"),n=e.querySelectorAll(".js-ignore [data-component]");Array.prototype.forEach.call(t,function(e){if(_.indexOf(n,e)<0){var t=e.getAttribute("data-component");Sprout.Components[t]&&new Sprout.Components[t](e)}})},Sprout.Components.carousel=function(e,t){function n(){i?(t.infinite||a.current<a.numSlides-1)&&(window.clearTimeout(m),m=window.setTimeout(function(){i=!0,a.go(a.current+s),i=!1},1e3*t.autoplay)):m&&window.clearTimeout(m)}function o(e){t.infinite||(p&&(0===e?$(p).addClass("disabled"):$(p).removeClass("disabled")),d&&(e+1>=a.numSlides?$(d).addClass("disabled"):$(d).removeClass("disabled"))),c&&c.length>0&&(Array.prototype.forEach.call(c,function(e){$(e).removeClass("active")}),$(c[e]).addClass("active")),0!==e&&null!==u&&(u=null,a.go(e)),t.toggler&&a.slides[e].dispatchEvent(f),e!==a.current&&Sprout.Utils.triggerAnimation(a.slides[e],850),n()}function r(){return u=0,_.each(a.slides,function(e,t){$(e).hasClass("selected")&&(u=t)}),u}t||(t=Sprout.Utils.getDataOptions(e));var a,i,s=t.skip||1,l=t.infinite||!1,u=null,c=e.querySelectorAll("nav li"),d=e.querySelector(".next"),p=e.querySelector(".prev"),m=null,v=document.getElementById("sound-swipe"),f=document.createEvent("Event");f.initEvent("onSlide",!0,!0),t=_.extend({onSlide:o,offscreen:s,infinite:l,autoplay:0},t),i=_.isNumber(t.autoplay)&&t.autoplay>0,a=new Carousel(e,t),$(document.documentElement).hasClass("ie")&&Sprout.Utils.removeEmptyNodes(a.slideWrap),p&&!t.infinite&&$(p).addClass("disabled"),c&&Array.prototype.forEach.call(c,function(e,t){e.addEventListener("click",function(e){e.preventDefault(),a.go(t)})}),p&&(new Sprout.Components.audio(p,v),p.addEventListener("click",function(e){e.preventDefault(),1===s?a.prev():a.go(a.current-s)})),d&&(new Sprout.Components.audio(d,v),d.addEventListener("click",function(e){e.preventDefault(),1===s?a.next():a.go(a.current+s)})),o(r()),i=!1},Sprout.Components.parallax=function(e){function t(){l=window.innerHeight,o()}function n(e){i||(i=!0,window.requestAnimationFrame(o))}function o(){r(),i=!1}function r(){var t,n=e.getBoundingClientRect().top;n-s>l||(t=Math.min(1,-n/l)*s,e.style[u]="translate3d(0, "+t+"px, 0)")}var a,i=!1,s=200,l=window.innerHeight,u=Sprout.Utils.transform,c=e.getBoundingClientRect().top,d=c,p=0;if(!Sprout.Utils.isTouchDevice){for(window.addEventListener("scroll",n,!1),window.addEventListener("resize",t,!1);Math.abs(d-p)>1;)p=d,a=Math.min(1,-d/l)*s,d=c+a;e.style[u]="translate3d(0, "+a+"px, 0)"}},Sprout.Components.stickyElement=function(e,t){function n(t){s!==t&&($(e).removeClass(s),$(e).addClass(t),s=t,a=l[t])}if(!e||!e.getBoundingClientRect)return!1;t=t||e.getAttribute("data-bounded")||!1;var o,r,a,i=e.parentNode,s="",l={normal:function(){return o=e.getBoundingClientRect(),o.top<1?n("sticky"):void 0},sticky:function(){return r=i.getBoundingClientRect(),r.top>1?n("normal"):t?(o=e.getBoundingClientRect(),r.bottom<o.bottom?n("bottom"):void 0):void 0},bottom:function(){return o=e.getBoundingClientRect(),o.top>1?n("sticky"):void 0}};o=e.getBoundingClientRect(),o.top<1?(n("sticky"),a()):n("normal"),window.addEventListener("scroll",function(){a()}),window.addEventListener("resize",function(){a()})},Sprout.Components.sectionNav=function(e,t){function n(){var n=0;Array.prototype.forEach.call(s,function(e,t){var o=e.getAttribute("data-nav"),r=e.getAttribute("data-icon"),i=e.id||"",s=document.createElement("li"),l=document.createElement("a");o&&(l.href="#"+i,l.innerHTML=r?'<i class="icon icon-'+r+'"></i>':"",l.innerHTML+=o,s.appendChild(l),s.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),u.forEach(function(e){$(e).removeClass("active")}),$(this).addClass("active"),d=!0,Sprout.Utils.scrollPage(e,c,function(){d=!1,a=t})}),u.push(s),$(e).hasClass("hide-tablet")&&n++)}),n&&s.length-n<=t.min&&$(e.parentNode).addClass("hide-tablet"),u.forEach(function(e){l.appendChild(e)})}function o(){var e;for(e=s.length;e--&&!(~~s[e].getBoundingClientRect().top<=c+1););0>e?(a>=0&&$(u[a]).removeClass("active"),a=e):e!==a&&(a>=0&&$(u[a]).removeClass("active"),$(u[e]).addClass("active"),a=e),i=!1}function r(){i||d||(i=!0,window.requestAnimationFrame(o))}t||(t=Sprout.Utils.getDataOptions(e)),t=_.extend({offset:0,bounded:!1,min:1},t);var a,i,s=document.querySelectorAll("[data-nav]"),l=e.querySelector("ul"),u=[],c=t.offset,d=!1;return s.length<=t.min?void $(e.parentNode).addClass("u-hidden"):(n(),o(),Sprout.Components.stickyElement(e,t.bounded),void window.addEventListener("scroll",r))},Sprout.Components.tabPanel=function(e,t){function n(t,n){r&&$(r).removeClass("selected").attr("aria-selected",!1),o&&$(o).removeClass("selected").attr("aria-hidden",!0),$(t).addClass("selected").attr("aria-selected",!0),$(t.panelElement).addClass("selected").attr("aria-hidden",!1),r=t,o=t.panelElement,n||e.dispatchEvent(Sprout.tabChange)}var o,r,a=e.querySelectorAll("[role=tab]"),i=e.querySelectorAll("[role=panel]");e.tabPanel=this,Sprout.tabChange=document.createEvent("Event"),Sprout.tabChange.initEvent("tabchange",!0,!0),this.setActive=function(t){var o=e.querySelector('.tab[aria-controls="'+t+'"]');o!==r&&n(o,!0)},_.each(a,function(e){e.panelElement=_.find(i,function(t){return $(t).attr("aria-labelledby")===$(e).attr("aria-controls")}),e.addEventListener("click",function(){this!==r&&n(this)})}),r=_.find(a,function(e){return"true"===$(e).attr("aria-selected")}),o=r?r.panelElement:_.find(i,function(e){return"true"!==$(e).attr("aria-hidden")}),this.getActive=function(){return{tab:r,panel:o}}},Sprout.Components.audio=function(e,t){var n=t||e.querySelector("audio");Sprout.Components.audio._current=null,e.addEventListener("click",function(){Sprout.Components.audio._current&&(Sprout.Components.audio._current.pause(),Sprout.Components.audio._current.currentTime=0),n.play(),$(document.body).addClass("is-playing"),Sprout.Components.audio._current=n}),n&&n.addEventListener("ended",function(){$(document.body).removeClass("is-playing"),Sprout.Components.audio._current=null})},Sprout.Components.showTime=function(e){function t(){Sprout.Services.getNextShowAirTime(o,function(o,r){var a;if(r){if(200===r.status)return n(r),void Sprout.Utils.setScheduleTimer(t,parseInt(r.current_time),r.schedule.start_seconds,r.schedule.end_seconds);a=r.current_date}Sprout.Utils.showDefaultAirTime(e,a)})}function n(t){if(t&&t.schedule){var n=new Date(t.schedule.start_date.replace(/-/g,"/"));t.onair?($(e).addClass("on-air"),r.innerHTML="Now"):($(e).removeClass("on-air"),r.innerHTML=Sprout.Utils.formatDateTime(n)),$(e).removeClass("u-hidden")}}var o=(Sprout.Utils.getDataOptions(e),e.getAttribute("data-show")),r=e.querySelector(".time");$(e).addClass("u-hidden"),t()},Sprout.Components.blocker=function(e,t){e.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault()})},Sprout.Components.filterList=function(e){var t=e.querySelectorAll(".results-list li"),n=e.querySelectorAll("[data-filter]"),o=n[0];_.each(n,function(n){n.addEventListener("click",function(){var r,a=n.getAttribute("data-filter");o.setAttribute("aria-selected","false"),o.className="",e.className="show-"+a,n.setAttribute("aria-selected","true"),n.className="selected",o=n,r=_.every(t,function(e){return null===e.offsetParent}),r&&$(e).addClass("no-results")})})},Sprout.Components.age=function(e,t){t||(t=Sprout.Utils.getDataOptions(e));var n=new Date(t.dob);e.innerHTML=Sprout.Utils.getAge(n)},Sprout.Components.toggler=function(e,t){if(t||(t=Sprout.Utils.getDataOptions(e)),t.target&&t["class"]){var n=document.getElementById(t.target);n=n?[n]:document.querySelectorAll(t.target),e.addEventListener("click",function(e){e.preventDefault(),_.each(n,function(e){t.on?$(e).addClass(t["class"]):t.off?$(e).removeClass(t["class"]):$(e).toggleClass(t["class"])})})}},Sprout.Components.accordion=function(e){var t=e.querySelector(".js-trigger");t||(t=e.querySelector(".trigger")),t&&t.addEventListener("click",function(){$(e).toggleClass("active")})},Sprout.Components.combobox=function(e,t){function n(){var t=e.querySelector("li.selected");t&&$(t).hasClass("js-combobox-ignore")&&s.selectItem(e.querySelector("li:not(.js-combobox-ignore)"))}function o(){_.each(document.querySelectorAll(".combobox.open"),function(e){$(e).removeClass("open"),$(e).addClass("closed")}),t.state="closed",e.removeEventListener("keydown",s.controlCombobox.bind(s))}function r(n){if(e.addEventListener("keydown",s.controlCombobox.bind(s)),"closed"===t.state)document.addEventListener("click",o),n&&(n.stopPropagation(),n.preventDefault()),_.each(document.querySelectorAll(".combobox.open"),function(e){$(e).removeClass("open"),$(e).addClass("closed")}),$(e).removeClass("closed"),$(e).addClass("open"),t.state="open";else{if("open"!==t.state||!n)return document.removeEventListener("click",o),!1;document.removeEventListener("click",o);var r=$(n.target).hasClass(".combobox-item")?n.target:Sprout.Utils.getParentMatch(n.target,".combobox-item");r&&(n.stopPropagation(),n.preventDefault()),e.combobox.selectItem(r)}}function a(){var t=e.querySelectorAll(".combobox-item");_.find(t,function(e){return l.value===Sprout.Utils.getDataValue(e,"value")?(s.selectItem(e),!0):!1})}if(!$(e).hasClass("js-initialized")){$(e).addClass("js-initialized"),t||(t=Sprout.Utils.getDataOptions(e));var i="",s=this,l=e.querySelector(".placeholder"),u=document.createEvent("Event"),c=e.querySelector(".wrap");u.initEvent("change",!0,!0),e.addEventListener("blur",function(){$(e).removeClass("open"),$(e).addClass("closed"),t.state="closed",e.removeEventListener("keydown",s.controlCombobox.bind(s)),i="",n()}),e.addEventListener("focus",function(t){e.addEventListener("keydown",s.controlCombobox.bind(s))}),e.addEventListener("click",r),this.controlCombobox=function(t){var n,o,r=!1,a=0,s=-1,l=e.querySelectorAll(".combobox-item");switch(t.keyCode){case 8:i.length>0&&(i=i.substr(0,i.length-1)),r=!0;break;case 27:i="";break;case 38:a=-1;break;case 40:a=1;break;case 13:return n=e.querySelector(".combobox-item.selected"),void(n&&n.click())}if(0!==a)s=_.findIndex(l,function(e,t){return $(e).hasClass("selected")?!0:!1}),s+=a,n=s>0?s<l.length?l[s]:l[l.length-1]:l[0];else if(8===t.keyCode||27===t.keyCode||t.keyCode>=48&&t.keyCode<=57||t.keyCode>=65&&t.keyCode<=90||t.keyCode>=96&&t.keyCode<=105)if(o=i,8!==t.keyCode&&27!==t.keyCode&&(o+=t.key),o.length>0){var u=new RegExp("^(<.*>)*"+o,"i"),d=_.filter(l,function(e,t){var n=e.innerHTML.trim();return n.match(u)});d.length>0&&(n=d[0],i=o)}else n=l[0];n&&(n.focus(),this.selectItem(n),Sprout.Utils.scrollElement(c,n),r=!0),r&&(t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation())},this.selectItem=function(o,r){if(o&&($(e.querySelector("li.selected")).removeClass("selected"),$(o).addClass("selected")),l&&!r){var a=o.getAttribute("data-value");l.value=a,l.dispatchEvent(u)}$(o).hasClass("js-combobox-ignore")&&n(),$(e).removeClass("open"),$(e).addClass("closed"),t.state="closed"},l&&""!==l.value&&a(),e.combobox=this}},Sprout.Components.modal=function(e,t){function n(){$(e).removeClass("transition-out"),$(e).removeClass("active");var t=document.querySelectorAll(".modal.active");0===t.length&&($(document.body).removeClass("show-modal"),window.scrollTo(0,r))}t||(t=Sprout.Utils.getDataOptions(e));var o=e.querySelector(".js-modal-close"),r=0;this.show=function(){var t=document.querySelectorAll(".modal.active");0===t.length&&(r=window.pageYOffset),$(e).removeClass("transition-out"),$(e).addClass("active"),$(document.body).addClass("show-modal")},this.hide=function(t){t&&(t.stopPropagation(),t.preventDefault()),$(e).hasClass("modal-transition")?($(e).addClass("transition-out"),setTimeout(n,500)):n()},o&&o.addEventListener("click",this.hide),e.modal=this},Sprout.Components.dragAndDrop=function(e,t,n,o,r){function a(e){e.preventDefault()}function i(n){n.stopPropagation(),n.preventDefault();var r,a,i;if(c(),Sprout.Utils.isFileReaderSupported?(i=n.target.files||n.dataTransfer.files,i.length&&(r=i[0])):n.target.value&&""!==n.target.value&&(r={size:0,name:n.target.value}),r){a=r.name;var s=a.toLowerCase().split(".");s=s[s.length-1],-1===t.indexOf(s)?(u(),$(e).addClass("alert-type")):parseInt(o,10)<r.size/1e6?(u(),$(e).addClass("alert-size")):l(r)}}function s(e){v&&_.each(v,function(t){t.innerHTML=e})}function l(t){$(e).addClass("selected"),$(e).removeClass("uploaded"),n&&Sprout.Utils.previewImageFile(t,m),s(t.name),r&&r(t)}function u(){c(),n&&(m.src=""),d.value=d.defaultValue,s(""),r&&r(null)}function c(){$(e).removeClass("selected"),$(e).removeClass("uploaded"),$(e).removeClass("alert-size"),$(e).removeClass("alert-type"),$(e).removeClass("alert-server")}var d=e.querySelector("input"),p=e.querySelector(".drop-zone"),m=e.querySelector(".display"),v=e.querySelectorAll(".file-name");p&&Sprout.Utils.isFileReaderSupported&&(p.addEventListener("drop",i,!1),p.addEventListener("dragover",a,!1),p.addEventListener("dragenter",a,!1),p.addEventListener("dragexit",a,!1)),n=n&&Sprout.Utils.isFileReaderSupported,d.addEventListener("change",i,!1);var f=e.querySelector(".remove-input");f&&f.addEventListener("click",u);var g=e.querySelector(".try-again");g&&g.addEventListener("click",c),this.setFile=function(t){t?($(e).addClass("selected"),$(e).addClass("uploaded"),$(e).removeClass("alert-size"),$(e).removeClass("alert-type"),$(e).removeClass("alert-server"),m.src=t.uri,s(t.filename)):u()}},Sprout.Components.gamesLayout=function(e){var t=e.querySelectorAll(".tile"),n=t.length;t=_.filter(t,function(e){var t=window.getComputedStyle(e);return"none"!==t.getPropertyValue("display")}),t.length>0&&2!==t.length&&$(t[0]).addClass("tile-large"),t.length!==n&&($(e).removeClass("total-"+n),$(e).addClass("total-"+t.length))},Sprout.Components.byTypeToggler=function(e,t){function n(e){var t=e.target.getAttribute("data-toggle-by-type");t!==c.togglerStatus.currentType&&o(t)}function o(t){var n,o=e.querySelector('[data-toggle-by-type="'+t+'"]');"all"===t?(n=i,_.each(i,function(e,t){$(e).removeClass("hidden")})):n=_.filter(i,function(e){return $(e).hasClass(t)?($(e).removeClass("hidden"),!0):void $(e).addClass("hidden")}),n.length>l&&0!==l?r(n):$(u).removeClass("active"),$(c.togglerStatus.current).removeClass("selected"),$(o).addClass("selected"),c.togglerStatus.current=o,c.togglerStatus.currentType=t}function r(e){c.togglerStatus.nextGroup=[],$(u).addClass("active");for(var t=l;t<e.length;t++)$(e[t]).addClass("hidden"),c.togglerStatus.nextGroup.push(e[t])}function a(){_.each(c.togglerStatus.nextGroup,function(e,t){$(e).removeClass("hidden")}),$(u).removeClass("active")}t||(t=Sprout.Utils.getDataOptions(e));var i;i=Sprout.Utils.isMobile?e.querySelectorAll(".filterable-tile:not(.tile-game)"):Sprout.Utils.isTablet?e.querySelectorAll(".filterable-tile:not(.tile-game)",".filterable-tile.html-5"):e.querySelectorAll(".filterable-tile");var s=e.querySelectorAll(".type-filter"),l=t.maxItems||0,u=e.querySelector(".show-more"),c=this,d=e.querySelector(".type-filter.selected").getAttribute("data-toggle-by-type");c.togglerStatus={current:e.querySelector(".type-filter.selected"),currentType:t.defaultAll?"all":d,nextGroup:[]},_.each(s,function(e,t){e.addEventListener("click",n,!1)}),e.addEventListener("onSlide",n),o(c.togglerStatus.currentType),u.querySelector(".cta-show-more").addEventListener("click",a,!1)},Sprout.Components.backToTop=function(e,t){e.addEventListener("click",function(t){t.preventDefault();var n=$(document.querySelector("html")).hasClass("ie")||$(document.body).hasClass("mobile")?0:1e3,o=document.querySelector("footer");$(o).addClass("is-animating"),$(e).addClass("animation-before-scroll"),_.delay(function(){var t=document.getElementById(e.getAttribute("href").substring(1));$(e).removeClass("animation-before-scroll").addClass("is-animating"),$(e).addClass("is-scrolling"),Sprout.Utils.scrollPage(t,0,function(){$(e).removeClass("is-scrolling").addClass("animation-after-scroll"),_.delay(function(){$(e).removeClass("is-animating").removeClass("animation-after-scroll"),$(o).removeClass("is-animating")},n)})},n)})},Sprout.Components.keyboardInteraction=function(e,t){e.addEventListener("keydown",function(t){switch(t.keyCode){case 32:case 13:e.click()}})},Sprout.Components.shareByEmail=function(e,t){if(gigya){t||(t=Sprout.Utils.getDataOptions(e));var n=window.location.protocol+"//"+window.location.host,o=n+t.url,r=n+document.querySelector("header .logo img").getAttribute("src"),a=new gigya.socialize.UserAction;a.setUserMessage("This is the user message"),a.setTitle("Sprout: "+Sprout.Utils.htmlDecode(t.title)),a.setLinkBack(o),a.setDescription(t.description),a.addActionLink(""),a.addMediaItem({type:"image",src:r,href:o});var i={containerID:"sprout-email-share",shareButtons:"Email",showCounts:"none",userAction:a,iconsOnly:!0};gigya.socialize.showShareBarUI(i),document.getElementById("sprout-email-share-button").addEventListener("click",function(e){e.preventDefault(),document.getElementById("sprout-email-share-reaction0").click()})}},Sprout.Components.animation=function(e,t){var n=e.querySelector("img");t||(t=Sprout.Utils.getDataOptions(e)),n&&(n.addEventListener("load",function(t){setTimeout(function(){$(e).addClass("loaded"),Sprout.Utils.triggerAnimation(e,0)},200)}),n.src=t.image)},Sprout.Components.autocomplete=function(e,t){function n(){i(function(e,t){u=t,u&&u.results?o():r()},t.data)}function o(){d.innerHTML="";var e=s();e.length>0?(_.each(e,function(e){var t=document.createElement("li");t.innerHTML=e,t.addEventListener("click",function(){a(e)}),d.appendChild(t)}),$(d).addClass(l)):r()}function r(){$(d).removeClass(l)}function a(t){e.value=t,r(),e.dispatchEvent(c)}function i(e,n){u||(t.url?Sprout.Services.generateRequest(t.url,n,"GET","json",e):t.list&&(u={results:t.list},e(null,u))),e(null,u)}function s(){var n=e.value,o=[];return n.length>0&&(o=_.take(_.filter(u.results,function(e){return-1!==e.toLowerCase().indexOf(n.toLowerCase())}),t.limit)),o}var l="show-suggestions",u=null,c=document.createEvent("Event");c.initEvent("select",!0,!0),t||(t=Sprout.Utils.getDataOptions(e)),t=_.extend({url:null,data:null,limit:10,minLength:0,selector:".autocomplete-suggestions"},t);var d=e.parentNode.querySelector(t.selector);e.addEventListener("keyup",function(t){switch(t.keyCode){case 27:r();break;default:d&&e.value.length>0?n():r()}}),e.setData=function(e){t.list=e}},Sprout.Components.defaultImage=function(e){function t(){e.removeEventListener("error",t),e.src=n}var n=Sprout.Utils.getDataValue(e,"default");n&&e.addEventListener("error",t)},Sprout.Components.currentShowOnTV=function(e){var t,n=$(e.parentNode).hasClass("currently-playing")?e.parentNode:e,o=n.querySelector("a");$(n).addClass("loading"),Sprout.Services.getCurrentShowOnTV(function(r,a){a&&(o.querySelector("p").innerHTML=a.tv_show,t=n.querySelector("img"),a.show&&a.show.length>0?($(n).removeClass("no-image"),o.href="/"+a.show[0].url,t.src=a.show[0].avatar_img):($(n).addClass("no-image"),o.href="/tv-schedule"),a.schedule&&Sprout.Utils.setScheduleTimer(Sprout.Components.currentShowOnTV.bind(Sprout.Components,e),parseInt(a.current_time),a.schedule.start_seconds,a.schedule.end_seconds)),$(n).removeClass("loading")})},Sprout.Components.adIframe=function(e){function t(){var t=e.id;googletag.cmd.push(function(){googletag.display(t)})}function n(e,t){var n;return _.find(e,function(e){return n=e.getAttribute(t),n?!0:void 0})}t(),setTimeout(function(){var t=e.querySelector("div > iframe");if(!t)return $(e).addClass("no-ads"),!1;var o=t.contentDocument||t.contentWindow.document;if("object"!=typeof o)return!1;var r=o.querySelectorAll("div");if(r.length>0){var a=n(r,"data-show-label");if(a){var i=a.getAttribute("data-show-label");"true"===i&&$(e).addClass("has-label")}}},1e3)};
Sprout.Services=function(){return{generateRequest:function(e,t,n,r,s,o){var u=null,i=null;"GET"===n&&(t||(t={}),t.t=Sprout.timestamp),t&&("GET"===n?(e+=e.indexOf("?")>=0?"&":"?",e+=Sprout.Utils.serialize(t),t=null):t=JSON.stringify(t));var a={url:e,data:t,type:n,dataType:r,success:function(e){i=e},error:function(e){u=e,"object"==typeof e&&e.hasOwnProperty("responseJSON")&&(u=e.responseJSON)},complete:function(){"function"==typeof s&&s(u,i)}};return o=_.extend(a,o),$.ajax(o)},getNextShowAirTime:function(e,t){var n="/sprout/next_time",r={show:e};return Sprout.Services.generateRequest(n,r,"GET","json",t)},getCurrentShowOnTV:function(e){var t="/sprout/current_show";return Sprout.Services.generateRequest(t,null,"GET","json",e)},getShowsSchedule:function(e){var t="/schedule/next_shows";return Sprout.Services.generateRequest(t,null,"GET","json",e)},getView:function(e,t,n){var r="/services/"+e;return t=_.extend({response:"embed"},t),Sprout.Services.generateRequest(r,t,"GET","html",n)},getSessionToken:function(e){var t="/services/session/token",n=Sprout.Utils.cookies.getItem("Drupal.visitor.service_token");return n?(e(null,n),!0):Sprout.Services.generateRequest(t,null,"GET","text",function(t,n){var r=new Date(Date.now()+36e5);Sprout.Utils.cookies.createCookie("Drupal.visitor.service_token",n,r),e(t,n)})},postSecure:function(e,t,n,r){return r||(r="POST"),this.getSessionToken(function(s,o){var u={headers:{Accept:"application/json","Content-type":"application/json","X-CSRF-Token":o}};Sprout.Services.generateRequest(e,t,r,"application/json",n,u)})},getUser:function(e){Sprout.user?e(null,Sprout.user):this.postSecure("/s2s/system/connect.json",null,function(t,n){n&&n.user&&0!==n.user.uid?Sprout.user=n.user:Sprout.user=null,e(t,Sprout.user)})},addSproutlet:function(e,t){return this.postSecure("/s2s/entity_field_collection_item.json",e,t)},getSproutlets:function(e){var t=this;this.getUser(function(n,r){if(r){var s="/s2s/sproutlets/all/"+Sprout.user.uid+".json";t.generateRequest(s,null,"GET","json",e)}else e({})})},setSproutlet:function(e,t){var n=this,r=document.location.protocol+"//"+document.location.host;r+="/s2s/entity_field_collection_item/"+e.item_id+".json";var s={method:"PUT",request:r,data:e};n.postSecure("/s2s/proxyp",s,t,"POST")},uploadFile:function(e,t,n){this.getSessionToken(function(r,s){var o=new FormData,u=new FileReader;u.onprogress=n,u.onloadend=function(r){var i=r.target.error;if(null!=i)return void t();var a=u.result;a=a.replace("data:"+e.type+";base64,",""),o.append("filename",e.name),o.append("file",a),o.append("target_uri","webform/"+e.name);var c=new XMLHttpRequest;c.upload.addEventListener("progress",n,!1),c.addEventListener("readystatechange",function(){if(4===c.readyState){var e;if(c.status>=200&&c.status<300||304===c.status){c.getResponseHeader("content-type");e=c.responseText;try{return e=JSON.parse(e),void t(e,c)}catch(n){}}return void(t&&t())}},!1),i&&(c.addEventListener("error",i,!1),c.addEventListener("abort",i,!1)),c.open("POST","/s2s/file.json"),c.setRequestHeader("X-CSRF-Token",s),c.send(o)},u.readAsDataURL(e)})},webformSubmission:function(e,t,n){var r={webform:e,submission:{data:t}};return this.postSecure("/s2s/submission.json",r,n)},entityformSubmission:function(e,t){return this.postSecure("/s2s/entity_entityform.json",e,t)},checkEmail:function(e,t){var n={email:e};return this.postSecure("/s2s/validation/email",n,t,"POST")},register:function(e,t){return this.postSecure("/s2s/user/register",e,t)},updateAccount:function(e,t,n){var r={method:"PUT",request:document.location.protocol+"//"+document.location.host+"/s2s/user/"+e,data:t};return this.postSecure("/s2s/proxyp",r,n,"POST")},forgotPassword:function(e,t){return this.postSecure("/s2s/user/request_new_password",e,t)},login:function(e,t,n){var r={username:e,password:t};return this.postSecure("/s2s/user/login",r,n)},channelFinder:function(e,t){var n="https://web.archive.org/web/20151103154620/http://secure.channelfinder.net/feeds/json/sprout/?",r={headers:{"Content-type":"text/plain"}};if(!window.XDomainRequest)return Sprout.Services.generateRequest(n,e,"GET","json",t,r);var s=new XDomainRequest;s.onload=function(e){t(e,s.responseText)},s.open("GET",n+Sprout.Utils.serialize(e),!0),s.send()},getSproutletTodayBirthdays:function(e){var t=this;this.getUser(function(n,r){if(r){var s="/s2s/sproutlets/birthdays/"+r.uid+".json";return t.generateRequest(s,null,"GET","json",e)}e({})})},getMVPD:function(e,t){var n="/mvpd";t&&(n+="/"+t),Sprout.Services.generateRequest(n,null,"GET","json",e)}}}();
Sprout.Global.search=function(){function e(e){var t="/search/";return t+=Sprout.Utils.isMobile?"mobile/":Sprout.Utils.isTablet?"tablet/":"site/",t+e}_.each(document.querySelectorAll(".search-form"),function(t){t.addEventListener("submit",function(o){o.stopPropagation(),o.preventDefault();var a=t.querySelector(".search-input"),s=a.value.trim();s&&(window.location.href=e(s))})})},Sprout.Global.navbar=function(){var e=e||0;document.querySelector("#toggle-menu").addEventListener("click",function(t){t.preventDefault(),-1===document.body.className.indexOf("show-nav")?(e=window.pageYOffset,$(document.body).addClass("show-nav")):($(document.body).removeClass("show-nav").removeClass("show-search"),window.scrollTo(0,e))}),document.querySelector("header .panel").addEventListener("touchstart",function(e){}),Sprout.Utils.scrolling(function(e,t){e>t&&e>60?$(document.body).addClass("hide-navbar"):$(document.body).removeClass("hide-navbar")})},Sprout.Global.menuToggles=function(){document.querySelector("#toggle-channel").addEventListener("click",function(e){e.preventDefault(),Sprout.Utils.toggleShowing("show-channel")}),document.querySelector("#toggle-search").addEventListener("click",function(e){e.preventDefault(),Sprout.Utils.toggleShowing("show-search"),document.querySelector("#search .search-input").focus()}),_.each(document.querySelectorAll("header .close"),function(e){e.addEventListener("click",function(){Sprout.Utils.toggleShowing()})})},Sprout.Global.clickify=function(){var e=document.querySelector("#sound-click");_.each(document.querySelectorAll(".cta, .more-link"),function(t){new Sprout.Components.audio(t,e)})},Sprout.Global.logout=function(){var e=document.querySelector("#link-logout");e&&_.isElement(e)&&e.addEventListener("click",function(e){Sprout.Utils.cookies.eraseCookie("Drupal.visitor.us"),Sprout.Utils.cookies.eraseCookie("Drupal.visitor.service_token"),Sprout.Utils.cookies.eraseCookie("RSESS_sprout")})},Sprout.Global.OAOScript=function(){var e=Drupal.settings.ads,t=Sprout.Utils.getURLParam(window.location.href,"test"),o=!1;if(e){var a=5184,s=e.s1,i="sprout.main",n=i+"/"+s,g=t,r=[760,0],l=[728,90],c=[330,0],d=[320,50],u=[0,0],p=[300,250],S=[[728,90],[320,50]],v=[300,250],b=document.getElementById("div-id-for-top-leaderboard"),h=document.getElementById("div-id-for-top-rectangle");switch(e.type){case"activity":case"game":case"show":case"video":n+="/"+e.s2,o=!0}var f="/"+a+"/"+n;(b||h)&&googletag.cmd.push(function(){if(b){var a=googletag.sizeMapping().addSize(r,l).addSize(c,d).addSize([0,0],[]).build();googletag.defineSlot(f,S,"div-id-for-top-leaderboard").defineSizeMapping(a).addService(googletag.pubads()).setTargeting("pos","top")}if(o&&h){var i=googletag.sizeMapping().addSize(u,p).build();googletag.defineSlot(f,v,"div-id-for-top-rectangle").defineSizeMapping(i).addService(googletag.pubads()).setTargeting("pos","right")}switch(e.type){case"activity":googletag.pubads().setTargeting("s2",e.s2),googletag.pubads().setTargeting("activity",e.s2),googletag.pubads().setTargeting("show",e.show),googletag.pubads().setTargeting("pid",e.s2);break;case"character":googletag.pubads().setTargeting("pid",e.s2);break;case"game":googletag.pubads().setTargeting("s2",e.s2),googletag.pubads().setTargeting("game",e.s2),googletag.pubads().setTargeting("show",e.show),googletag.pubads().setTargeting("pid",e.s2);break;case"show":case"video":googletag.pubads().setTargeting("s2",e.s2),googletag.pubads().setTargeting("show",e.show),googletag.pubads().setTargeting("pid",e.s2)}t&&googletag.pubads().setTargeting("test",g),googletag.pubads().setTargeting("s1",s),googletag.pubads().enableSingleRequest(),googletag.enableServices()})}};
Sprout.init=_.debounce(function(){var e,t,o;window.console||(window.console={log:function(){}}),Sprout.Utils.isMobile||(Sprout.Utils.isTablet?_.each(document.querySelectorAll(".show-mobile"),function(e){$(e).hasClass("show-tablet")||$(e).remove()}):_.each(document.querySelectorAll(".show-mobile"),function(e){$(e).remove()}));var r=document.querySelector("#nav-utility .site-actions");Sprout.Utils.isUserAuthenticated&&$(document.querySelector("body")).addClass("user-authenticated");var n=Sprout.Utils.isUserAuthenticated?"js-authenticated":"js-anonymous";if(r&&_.each(r.querySelectorAll(".js-user"),function(e){$(e).hasClass(n)?$(e).removeClass("u-hidden"):r.removeChild(e)}),t=document.querySelector("main"),t&&(e=t.getAttribute("data-page"),Sprout.Pages[e]&&new Sprout.Pages[e](t)),Sprout.Global.OAOScript(),Sprout.Components._init(document),document.querySelector("header")&&(Sprout.Global.search(),Sprout.Global.navbar(),Sprout.Global.menuToggles(),Sprout.Global.logout()),Sprout.Global.clickify(),Sprout.Utils.animateIn(".fx-fadein"),"referrer"in document&&document.referrer&&""!==document.referrer||(o=document.getElementsByTagName("a"),Array.prototype.forEach.call(o,function(e){var t=document.location.href.replace(/^https?:\/\//,"").split("/"),o=e.href.replace(/^https?:\/\//,""),r=new RegExp("^((http)s?://)?([a-z]+.)?("+t[0].replace(".",".")+")/?$","i"),n="";o.match(r)&&(n=e.href.indexOf("?")<0?"?":"&",n+="redirect=false",e.href+=n)})),window.location.pathname.indexOf("now-leaving")<0){var a=document.querySelector("#leaveSiteModal");Sprout.Utils.detectLeavingSite(function(e){var t=a.querySelector("#interstitial-leave");t.href=e,a.modal.show()}),a.querySelector("#interstitial-stay").addEventListener("click",function(){var e=document.createEvent("Event");e.initEvent("sprout-interstitial-stay",!0,!0),a.dispatchEvent(e)})}Sprout.Polyfills.placeholder(document),Sprout.Utils.loadAsset("/sites/sprout/themes/sprout_twig/css/libs/oo_style.css"),window.location.pathname.indexOf("now-leaving")<0&&(window.oo_tab=new OOo.Ocode({tab:{}}))}),Sprout.Utils.featureDetection(),document.addEventListener("DOMContentLoaded",Sprout.init,!1);
Sprout.Polyfills.placeholder=function(e){if(!("placeholder"in document.createElement("input"))){var t,r,l=e.querySelectorAll("[placeholder]"),a=e.querySelectorAll("form");Array.prototype.forEach.call(l,function(e){var t="password"===e.type;""===e.value&&(t&&e.setAttribute("type","text"),e.value=e.getAttribute("placeholder"),$(e).addClass("show-placeholder")),e.addEventListener("focus",function(){t&&this.setAttribute("type","password"),$(this).removeClass("show-placeholder"),this.value===this.getAttribute("placeholder")&&(this.value="")}),e.addEventListener("blur",function(){""===this.value?(t&&this.setAttribute("type","text"),this.value=this.getAttribute("placeholder"),$(this).addClass("show-placeholder")):t&&this.setAttribute("type","password")})}),Array.prototype.forEach.call(a,function(e){e.addEventListener("submit",function(){for(l=this.querySelectorAll("[placeholder]"),r=0;r<l.length;r++)t=l[r],t.value===t.getAttribute("placeholder")&&(t.value="",$(t).removeClass("show-placeholder"))})})}if(!window.requestAnimationFrame){var o=0;window.requestAnimationFrame=function(e,t){var r=(new Date).getTime(),l=Math.max(0,16-(r-o)),a=window.setTimeout(function(){e(r+l)},l);return o=r+l,a}}};
Sprout.Pages.S2S=function(e){new Sprout.S2S(e)},Sprout.S2S=function(e){$(e).addClass("locked"),this.handle=e,this.steps=[],this.options=Sprout.Utils.getDataOptions(this.handle),setTimeout(this.onAuthentication.bind(this))},Sprout.S2S.prototype={onAuthentication:function(){Sprout.Utils.isUserAuthenticated?(this.webform=new Sprout.Webform(this.options.uuid),this.initializeSubmission()):Sprout.Components.login.open()},initializeSubmission:function(){var e=this,t=this.handle.querySelectorAll(".next-step a"),i=this.handle.querySelectorAll("#s2s-preview .submit"),s=this.handle.querySelector(".edit");this.serviceError=this.handle.querySelector(".service-error"),$(this.handle).removeClass("locked"),$("#s2s-step-1").addClass("active"),_.each(this.handle.querySelectorAll("[data-S2S]"),function(t){var i=t.getAttribute(["data-S2S"]);e.steps.push(new Sprout.S2S.step(t,i))}),this.previewStep=new Sprout.S2S.Preview(document.querySelector("#s2s-preview"),this.steps),new Sprout.Sproutlet.create(this.handle.querySelector(".sproutlet-create"),this.sproutletAdded.bind(this)),_.each(t,function(t){t.addEventListener("click",e.goToStep.bind(e))}),_.each(i,function(t){t.addEventListener("click",e.onSubmit.bind(e))}),s.addEventListener("click",this.goToStep.bind(this))},goToStep:function(e){var t=this.handle.querySelector(e.target.hash);e.stopPropagation(),e.preventDefault(),t&&($(t).addClass("active"),Sprout.Utils.scrollPage(t))},sproutletAdded:function(e,t){if(e);else{var i=this.handle.querySelector(".sproutlet-list .wrap"),s=this.handle.querySelector(".sproutlet-list .add-new-sproutlet"),o="<div>"+t.sproutlet_name+", "+Sprout.Utils.getAge(t.sproutlet_birthday)+" yrs</div>";o+='<div class="sproutlet-location">'+t.sproutlet_hometown+", "+t.sproutlet_state+"</div>";var n=document.createElement("li");n.id=t.id,n.setAttribute("data-options",JSON.stringify(t)),n.innerHTML=o,i.insertBefore(n,s);var r=this.handle.querySelector(".sproutlet-list .selected");r&&$(r).removeClass("selected"),$(n).addClass("sproutlet selected combobox-item");var l=this.handle.querySelector("#s2s-preview-form.adding-sproutlet");l&&$(l).removeClass("adding-sproutlet")}},getSelectedSproutletData:function(){var e=this.handle.querySelector(".sproutlet-list .selected");if(e){var t=Sprout.Utils.getDataOptions(e);if(t)return"birthday-wish"===this.options.type?{8:{form_key:"select_your_sproutlet",type:"textfield",values:[t.id]},9:{form_key:"your_childs_first_name",type:"textfield",values:[t.sproutlet_name]},10:{form_key:"hometown",type:"textfield",values:[t.sproutlet_hometown]},11:{form_key:"state",type:"select",values:[t.sproutlet_state]},12:{form_key:"your_childs_birthdate",type:"date",values:[t.sproutlet_birthday]},13:{form_key:"my_older_child_has_special_needs",type:"select",values:[t.sproutlet_special_needs]}}:{1:{form_key:"sproutlet_name",type:"textfield",values:[t.sproutlet_name]},2:{form_key:"sproutlet_birthday",type:"date",values:[t.sproutlet_birthday]},3:{form_key:"sproutlet_hometown",type:"textfield",values:[t.sproutlet_hometown]},4:{form_key:"sproutlet_state",type:"textfield",values:[t.sproutlet_state]},5:{form_key:"id",type:"textfield",values:[t.id]}}}return null},onSubmit:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),$(this.serviceError).removeClass("error"),!$(this.handle).hasClass("submitting")){var t=_.find(this.steps,function(e){return!e.complete});t?Sprout.Utils.scrollPage(t.handle):this.previewStep.complete()&&(Sprout.Utils.loader(!0),$(this.handle).addClass("submitting"),this.buildSubmissionData(this.getSelectedSproutletData()))}},assetUploadProgress:function(e){e.loaded/e.total*100},buildSubmissionData:function(e,t){var i=this;void 0===t&&(t=0);var s=this.steps.slice(t),o=_.every(s,function(s,o){var n=t+o+6,r=s.submission(function(r){r?(e[n.toString()]=r,i.buildSubmissionData(e,t+o+1)):(Sprout.Utils.loader(!1),$(i.handle).removeClass("submitting"),Sprout.Utils.scrollPage(s.handle))},i.assetUploadProgress.bind(i));return r&&r.values&&(e[n.toString()]=r),r});o&&this.submit(e)},submit:function(e){"birthday-wish"===this.options.type&&(e=_.extend({14:{form_key:"term_of_use",type:"select",values:["1"]},15:{form_key:"privacy_policy",type:"select",values:["1"]},16:{form_key:"license_release",type:"select",values:["1"]}},e)),this.webform.submit(e,this.onCampaignSubmission.bind(this))},onCampaignSubmission:function(e,t){var i=[];if(e||t&&500===t.status){$(this.handle).removeClass("submitting"),Sprout.Utils.loader(!1),$(this.serviceError).addClass("error");for(var s in t)"status"!==s&&i.push('<li class="error">'+t[s]+"</li>");this.serviceError.querySelector("ul").innerHTML=i.join("")}else document.location.href="/sent-to-sprout/thank-you?cid="+this.options.cid}},Sprout.S2S.step=function(e,t){this.handle=e,this.handle.step=this,this.type=t,this.complete=!1,this.options=Sprout.Utils.getDataOptions(this.handle),this.setComplete(!this.options.required),this.field=this.handle.querySelector("input, textarea"),this.validator=new Validator;var i=this.handle.querySelector(".next-step a");i&&i.addEventListener("click",this.onNextStep.bind(this)),this.init()},Sprout.S2S.step.prototype={init:function(){var e=this;switch(this.type){case"message":case"textarea":this.options.max?(this.field.addEventListener("blur",this.countCharacters.bind(this)),this.field.addEventListener("keyup",this.countCharacters.bind(this))):(this.field.addEventListener("blur",this.validate.bind(this)),this.field.addEventListener("keyup",this.validate.bind(this)));break;case"file":this.response=null,this.fileComponent=new Sprout.Components.dragAndDrop(this.handle,this.options.formats,this.options.preview,this.options.sizeLimit,function(t){e.file=t,e.response=null;var i=document.createEvent("Event");i.initEvent("change",!0,!0),e.handle.dispatchEvent(i),e.validate()});break;case"poll":this.field=this.handle.querySelectorAll("input"),_.each(this.field,function(t){t.addEventListener("change",e.validate.bind(e))})}},countCharacters:function(e){var t=this.handle.querySelector(".message-field-counter"),i=this.options.max,s=this.field.value;t.innerHTML=i-s.length,(!e||"keyup"!==e.type||s.length===s.trim().length&&s.trim().length>0)&&this.validate()},validate:function(){this.setComplete(this.file||this.validator.check(this.handle))},setComplete:function(e){this.complete=e,this.complete?$(this.handle).addClass("done"):$(this.handle).removeClass("done")},setValue:function(e){switch(this.type){case"file":e&&e.fid?(this.fileComponent.setFile(e),this.response=e,this.file=e.fid):(this.fileComponent.setFile(),this.response=null,this.file=null,this.field.value=null,this.field.file=null);break;case"poll":_.each(this.field,function(t){t.checked=e&&t.value===e});break;default:this.field.value=e?e:""}this.validate()},onNextStep:function(e){this.complete||(e.preventDefault(),e.stopImmediatePropagation())},getSubmissionObject:function(){var e;switch(this.type){case"file":this.response&&(e=[this.response.fid]);break;case"poll":e=_.find(this.field,function(e){return e.checked}),e=[$(e).val()];break;default:e=[$(this.field).val()||this.file||""]}return{form_key:this.options.form_key,type:this.options.type,values:e}},submission:function(e,t){var i,s=this;return this.complete&&("file"===this.type&&!this.response&&this.file?Sprout.Services.uploadFile(this.file,function(t){t?(s.response=t,e(s.getSubmissionObject())):(s.response=null,e())},t):i=this.getSubmissionObject()),i}},Sprout.S2S.Preview=function(e,t){var i=this;this.handle=e,this.validator=new Validator,this.message=this.handle.querySelector(".message"),this.photo=this.handle.querySelector(".photo"),this.photoName=this.handle.querySelector(".photo-name .name"),this.video=this.handle.querySelector(".video"),this.poll=this.handle.querySelector(".poll"),_.each(t,function(e){switch(e.options.form_key){case"message":case"birthday_wish":e.handle.addEventListener("change",i.updateMessage.bind(i));break;case"photo":case"upload_a_photo":e.handle.addEventListener("change",i.updatePhoto.bind(i));break;case"video":e.handle.addEventListener("change",i.updateVideo.bind(i));break;case"poll":e.handle.addEventListener("change",i.updatePoll.bind(i))}})},Sprout.S2S.Preview.prototype={updateMessage:function(e){var t=e.target.value;this.message.innerHTML=t},updatePhoto:function(e){var t="";e.target.step.file?($(this.photo).removeClass("u-hidden"),Sprout.Utils.previewImageFile(e.target.step.file,this.photo.querySelector("img")),t=e.target.step.file.name):($(this.photo).addClass("u-hidden"),this.photo.querySelector("img").src=""),this.photoName&&(this.photoName.innerHTML=t)},updateVideo:function(e){e.target.step.file?this.video.querySelector(".name").innerHTML=e.target.step.file.name:this.video.querySelector(".name").innerHTML=" "},updatePoll:function(e){var t=Sprout.Utils.getDataOptions(Sprout.Utils.getParentMatch(e.target,"li"));this.poll.querySelector("img").src=t.image,this.poll.querySelector(".name").innerHTML=decodeURIComponent(t.value)},complete:function(){return this.validator.check(this.handle.querySelector(".step-submit .field-item"))}};
Sprout.Pages.account=function(e){this.handle=e,this.options=Sprout.Utils.getDataOptions(this.handle),this.options.edit?(new Sprout.Pages["account-profile"](document.getElementById("user-account-update"),this.options),new Sprout.Pages["account-birthdays"](document.getElementById("user-account-birthdays"))):new Sprout.Pages["account-profile"](e,this.options)},Sprout.Pages["account-profile"]=function(e,t){this.handle=e,this.options=t,this.steps=[],this.mailStep=null,this.mail="",this.stickyInitialized=!1,this.webform=new Sprout.Webform("account_form",this.options.type,!this.options.edit),this.init()},Sprout.Pages["account-profile"].prototype={init:function(){var e=this;this.validator=new Validator,_.each(this.handle.querySelectorAll(".form-step"),function(t){var i,s=new Sprout.forms.step(t);e.steps.push(s),i=t.querySelector("#mail"),i&&(e.mail=$(i).val(),e.mailStep=s,e.options.edit&&i.addEventListener("keyup",e.emailChanged.bind(e)));var o=t.querySelector(".form-next");o&&o.addEventListener("click",e.onNext.bind(e))}),this.initSproutlets(),this.handle.querySelector(".add-sproutlet").addEventListener("click",this.addSproutlet.bind(this)),this.options.edit&&document.addEventListener("tabchange",this.onTabChange.bind(this))},initSubmitStickyBar:function(){function e(){var e=i.getBoundingClientRect().height,o=s.getBoundingClientRect().top+e,r=window.innerHeight;o>r?($(t.handle).addClass("sticky-submit"),s.style.height=e+"px"):($(t.handle).removeClass("sticky-submit"),s.style.height="auto")}if(!this.stickyInitialized){this.stickyInitialized=!1;var t=this,i=this.handle.querySelector("#account-submit"),s=this.handle.querySelector(".submit-wrapper");e(),Sprout.Utils.scrolling(e)}},initSproutlets:function(){var e=this,t=this.handle.querySelectorAll(".fieldset-list fieldset");return this.sproutletCount=t.length,0===t.length?this.addSproutlet():(1===t.length?($(this.handle).addClass("disable-remove-child"),$(this.handle).removeClass("disable-add-child")):10===t.length?($(this.handle).addClass("disable-add-child"),$(this.handle).removeClass("disable-remove-child")):($(this.handle).removeClass("disable-add-child"),$(this.handle).removeClass("disable-remove-child")),void _.each(t,function(t){t.querySelector(".remove-sproutlet").addEventListener("click",e.removeSproutlet.bind(e))}))},onTabChange:function(e){$(this.handle).hasClass("selected")&&(document.removeEventListener("tabchange",this.onTabChange.bind(this)),this.initSubmitStickyBar())},addSproutlet:function(){var e,t,i=this,s=this.handle.querySelector(".fieldset-list");s&&s.childElementCount<10&&(e=this.handle.querySelector(".clone-fieldset fieldset"),e=e.cloneNode(!0),s.appendChild(e),e.querySelector(".remove-sproutlet").addEventListener("click",this.removeSproutlet.bind(this)),this.sproutletCount++,_.each(e.querySelectorAll("input"),function(e){e.id+=i.sproutletCount}),t=e.querySelector(".special-needs label"),t&&t.setAttribute("for",t.getAttribute("for")+i.sproutletCount),Sprout.Components._init(e),Sprout.Polyfills.placeholder(e),1===s.childElementCount?($(this.handle).addClass("disable-remove-child"),$(this.handle).removeClass("disable-add-child")):10===s.childElementCount?($(this.handle).addClass("disable-add-child"),$(this.handle).removeClass("disable-remove-child")):($(this.handle).removeClass("disable-add-child"),$(this.handle).removeClass("disable-remove-child")),this.steps[2]&&this.steps[2].init())},removeSproutlet:function(e){var t,i=this.handle.querySelector(".fieldset-list");i.childElementCount>1&&(t=Sprout.Utils.getParentMatch(e.target,"fieldset"),i.removeChild(t),this.steps[2].init()),1===i.childElementCount&&$(this.handle).addClass("disable-remove-child"),$(this.handle).removeClass("disable-add-child")},onCheckEmail:function(e,t,i){var s;Sprout.Utils.loader(!1),t?"success"===t.status?i&&i():s=t.message:s="Invalid Email",s&&(this.mailStep.error("mail",s),Sprout.Utils.scrollPage(this.mailStep.handle.querySelector(".field-item.error"),50))},emailChanged:function(e){var t=this.mailStep.handle.querySelector("#current_pass");this.mail===e.target.value?(t.disabled=!0,$(this.handle).removeClass("update-password")):(t.disabled=!1,$(this.handle).addClass("update-password"))},checkEmail:function(e){var t=this,i=this.mailStep.submission();Sprout.Utils.loader(!0),Sprout.Services.checkEmail(i.mail,function(i,s){t.onCheckEmail(i,s,e)})},onNext:function(e){var t=this,i=!1,s=Sprout.Utils.getParentMatch(e.target,".form-step");switch(e.stopPropagation(),e.preventDefault(),s.id){case"account-info":this.checkEmail(function(){t.steps[1]&&($(t.steps[1].handle).addClass("active"),Sprout.Utils.scrollPage(t.steps[1].handle))});break;case"account-submit":this.submit();break;default:i=!0}if(i){var o=this.handle.querySelector(e.target.hash);o&&($(o).addClass("active"),Sprout.Utils.scrollPage(o))}},getSumissionData:function(e){var t,i=e.submission();switch(e.handle.id){case"account-info":i.confirm_password=null,delete i.confirm_password;break;case"account-about-you":i.field_user_fiest=Sprout.Utils.getWebformValue(i.field_user_fiest),i.field_user_last=Sprout.Utils.getWebformValue(i.field_user_last),i.field_user_zip_code=Sprout.Utils.getWebformValue(i.field_user_zip_code),i.dob_year&&(i.field_coppa_lite_dob={und:[{value:{day:i.dob_day,month:i.dob_month,year:i.dob_year,hour:"0",minute:"0",ampm:"am"}}]},delete i.dob_day,delete i.dob_month,delete i.dob_year);break;case"account-sproutlets":t=i.fieldsets,i={field_user_sproutlet:{und:[]}},_.each(t,function(e){var t={field_state:Sprout.Utils.getWebformValue(e.field_state,"select"),field_user_kid_city:Sprout.Utils.getWebformValue(e.field_user_kid_city),field_user_kid_first:Sprout.Utils.getWebformValue(e.field_user_kid_first),field_user_kid_dob:{und:[{value:{day:e.sproutlet_dob_day,month:e.sproutlet_dob_month,year:e.sproutlet_dob_year,hour:"0",minute:"0",ampm:"am"}}]},field_user_kid_special_needs:Sprout.Utils.getWebformValue(e.field_user_kid_special_needs,"checkbox")};i.field_user_sproutlet.und.push(t)});break;case"account-newsletter":i.field_newsletter=Sprout.Utils.getWebformValue(i.field_newsletter,"checkbox");break;case"account-submit":this.options.edit||(i.field_user_terms_privacy=Sprout.Utils.getWebformValue(i.field_user_terms_privacy,"checkbox"),i.field_newsletter&&(i.field_newsletter=Sprout.Utils.getWebformValue(i.field_newsletter,"checkbox")))}return i.fieldsets=null,delete i.fieldsets,i},submit:function(){var e,t=this;if(_.each(this.steps,function(t){t.onNextStep()||e||(e=t)}),e)Sprout.Utils.scrollPage(e.handle.querySelector(".field-item.error"),50);else{var i={};_.each(t.steps,function(e){i=_.extend(t.getSumissionData(e),i)}),"update-account"===this.options.type&&this.mail===i.mail?(Sprout.Utils.loader(!0),t.webform.submit(i,t.onSubmit.bind(t))):("update-account"===this.options.type,this.checkEmail(function(){Sprout.Utils.loader(!0),t.webform.submit(i,t.onSubmit.bind(t))}))}},processErrors:function(e){var t,i,s,o,r,l=null,a=10;try{e=JSON.parse(e);for(t in e.form_errors){switch(i=e.form_errors[t],t=t.split("]["),o=null,a=null,r=0,t[0]){case"mail":a="update-account"===this.options.type?1:0;break;case"pass":a=0;break;case"current_pass":case"field_coppa_lite_dob":case"field_user_zip_code":a=1;break;case"field_user_sproutlet":a=2,o=parseInt(t[2]),r=3,i=null;break;case"field_user_terms_privacy":a=3,i=null}null!==a&&(s=this.steps[a],s.error(t[r],i,o),(null===l||l>a)&&(l=a))}null!==l&&Sprout.Utils.scrollPage(this.handle.querySelector(".field-item.error"),50)}catch(n){}},onSubmit:function(e,t){var i,s=this;t?this.options.edit?document.location.reload(!0):(i=this.steps[0].submission(),Sprout.Services.login(t.username,i.pass,function(){var e=null;s.options.destination&&"user"!==s.options.destination?(e=s.options.destination,0!==e.indexOf("/")&&(e="/"+e),document.location.href=e):document.location.href="/user/register/success"})):(this.processErrors(e.responseText),Sprout.Utils.loader(!1))}},Sprout.forms={},Sprout.forms.step=function(e){this.handle=e,this.handle.step=this,this.complete=!1,this.options=Sprout.Utils.getDataOptions(this.handle),this.setComplete(!this.options.required),this.validator=new Validator;var t=this.handle.querySelector(".form-next");t&&t.addEventListener("click",this.onNextStep.bind(this)),this.options.edit||Sprout.Utils.resetForm(this.handle),this.init()},Sprout.forms.step.prototype={init:function(){var e=this;this.fields=this.handle.querySelectorAll("input, textarea"),this.fieldItems=this.handle.querySelectorAll(".field-item"),_.each(this.fields,function(t){t.removeEventListener("change",e.validate.bind(e)),t.addEventListener("change",e.validate.bind(e)),t.removeEventListener("keyup",e.validate.bind(e)),t.addEventListener("keyup",e.validate.bind(e))}),this.options.edit||this.validate()},validate:function(){var e=_.every(this.fields,function(e){var t=$(e).val();return e.disabled||!e.required||t&&""!==t});return this.setComplete(e),e},setComplete:function(e){this.complete=e,this.complete?$(this.handle).addClass("done"):$(this.handle).removeClass("done")},onNextStep:function(e){var t=this,i=this.complete;return(this.complete||!e||this.options.edit||this.options.displayErrors)&&(_.each(this.fieldItems,function(e){i=t.validator.check(e)&&i}),this.setComplete(i)),!this.complete&&e&&(e.preventDefault(),e.stopImmediatePropagation()),this.complete},submission:function(){var e=this.handle.querySelectorAll("fieldset"),t=Sprout.Utils.getFormValues(this.handle);return t.fieldsets=[],_.each(e,function(e,i){t.fieldsets[i]=Sprout.Utils.getFormValues(e)}),t},error:function(e,t,i){var s,o,r=this.handle;_.isNumber(i)&&(r=this.handle.querySelectorAll("fieldset")[i]),r&&""!==t&&(s=r.querySelector("."+e),$(s).addClass("error error-service"),t&&(o=s.querySelector(".errors-list .error-service"),o&&(o.innerHTML=t.replace(/&amp;/g,"&"))))}},Sprout.Pages["account-birthdays"]=function(e){this.handle=e,this.sproutlets={},$(this.handle).addClass("loading"),Sprout.Services.getSproutlets(this.init.bind(this))},Sprout.Pages["account-birthdays"].prototype={init:function(e,t){$(this.handle).removeClass("loading"),_.each(t,this.initSproutlet.bind(this))},setActivateCheckbox:function(e,t){var i=document.getElementById("activate-sproutlet-homepage-"+e.data.item_id);i.checked=t},initSproutlet:function(e,t){var i=this;this.sproutlets[t]={handle:document.getElementById("birthday-sproutlet-"+t),data:e,steps:[],submission:{},ready:0},_.each(this.sproutlets[t].handle.querySelectorAll("[data-S2S]"),function(s){var o=s.getAttribute(["data-S2S"]),r=new Sprout.S2S.step(s,o);i.sproutlets[t].steps.push(r);var l;if(e[r.options.form_key].und&&e[r.options.form_key].und[0])switch(r.options.form_key){case"field_user_kid_color":l=e[r.options.form_key].und[0].rgb;break;case"field_user_kid_photo":l=e[r.options.form_key].und[0];break;default:l=e[r.options.form_key].und[0].value}l||(l=r.options["default"]),r.setValue(l)}),this.setActivateCheckbox(this.sproutlets[t],_.every(this.sproutlets[t].steps,_.iteratee("complete")));var s=this.sproutlets[t].handle.querySelector(".actions input");s.addEventListener("click",function(e){e.stopPropagation(),e.preventDefault(),i.saveSproutletBirthday(i.sproutlets[t])});var o=this.sproutlets[t].handle.querySelector(".actions span");o.addEventListener("click",function(){i.resetSproutlet(i.sproutlets[t])}),$(this.sproutlets[t].handle).addClass("hide-errors")},doSubmit:function(e){var t=this,i=_.extend(e.data,e.submission);Sprout.Services.setSproutlet(i,function(){e.data=i,t.setActivateCheckbox(e,_.every(e.steps,_.iteratee("complete"))),Sprout.Utils.loader(!1)})},buildSubmissionData:function(e,t){if(t){var i={und:[{}]},s="value";switch(t.form_key){case"field_user_kid_color":s="rgb";break;case"field_user_kid_photo":s="fid"}i.und[0][s]=t.values[0],e.submission[t.form_key]=i,e.ready++,e.ready>=2&&this.doSubmit(e)}},saveSproutletBirthday:function(e){var t=this;$(e.handle).addClass("hide-errors");var i=_.reject(e.steps,function(e){return e.validate(),e.complete});i.length?i.length>=2?(e.submission={},_.each(e.steps,function(t){e.submission[t.options.form_key]={und:[]}}),Sprout.Utils.loader(!0),this.doSubmit(e)):(Sprout.Utils.scrollPage(i[0].handle),$(e.handle).removeClass("hide-errors")):(e.submission={},e.ready=0,Sprout.Utils.loader(!0),_.each(e.steps,function(i){return i.complete&&t.buildSubmissionData(e,i.submission(function(i){t.buildSubmissionData(e,i)})),!i.complete}))},resetSproutlet:function(e){_.each(e.steps,function(e){e.setValue(e.options["default"])}),this.setActivateCheckbox(e,!1),$(e.handle).addClass("hide-errors")}};
Sprout.Pages.activities=function(t){function e(){Sprout.Utils.animateIn(".fx-fadein",0)}t.addEventListener("viewPanelUpdate",e)};
Sprout.Pages["birthday-card"]=function(t){$(t).addClass("locked"),this.handle=t,this.options=Sprout.Utils.getDataOptions(this.handle),this.validator=new Validator,setTimeout(this.onAuthentication.bind(this))},Sprout.Pages["birthday-card"].prototype={onAuthentication:function(){Sprout.Utils.isUserAuthenticated&&($(this.handle).removeClass("locked"),this.webform=new Sprout.Webform("sprout_birthday_card","entityform"),this.initializeSubmission())},initializeSubmission:function(){var t=this;new Sprout.Sproutlet.create(this.handle.querySelector(".sproutlet-create"),this.sproutletAdded.bind(this));var e=this.handle.querySelectorAll(".submit-form .submit");_.each(e,function(e){e.addEventListener("click",t.onSubmit.bind(t))}),this.serviceError=this.handle.querySelector(".service-error"),this.submitForm=this.handle.querySelector(".submit-form")},validate:function(){return this.validator.check(this.submitForm.querySelector(".fields .field-item"))},getSelectedSproutletData:function(){var t=this.handle.querySelector(".sproutlet-list .selected");if(t){var e=Sprout.Utils.getDataOptions(t);if(e)return{field_user_sproutlet:{und:[{value:e.id,revision_id:e.id}]},field_bef_sproutlet_name:{und:[{value:e.sproutlet_name}]},field_bef_sproutlet_birthday:{und:[{value:e.sproutlet_birthday}]},field_bef_sproutlet_state:{und:[{value:e.sproutlet_state}]},field_bef_sproutlet_hometown:{und:[{value:e.sproutlet_hometown}]}}}return null},sproutletAdded:function(t,e){if(t);else{var i=this.handle.querySelector(".sproutlet-list .wrap"),r=this.handle.querySelector(".sproutlet-list .add-new-sproutlet"),s="<div>"+e.sproutlet_name+", "+Sprout.Utils.getAge(e.sproutlet_birthday)+" yrs</div>";s+='<div class="sproutlet-location">'+e.sproutlet_hometown+", "+e.sproutlet_state+"</div>";var o=document.createElement("li");o.id=e.id,o.setAttribute("data-options",JSON.stringify(e)),o.innerHTML=s,i.insertBefore(o,r);var l=this.handle.querySelector(".sproutlet-list .selected");l&&$(l).removeClass("selected"),$(o).addClass("sproutlet selected combobox-item");var a=this.handle.querySelector(".adding-sproutlet");a&&$(a).removeClass("adding-sproutlet")}},getEntityformData:function(){return _.extend(this.getSelectedSproutletData(),{field_bday_tou:{und:[{value:"1"}]},field_kk_tou:{und:[{value:"1"}]},field_opt_in:{und:[{value:"1"}]}})},onSubmit:function(t){t&&(t.preventDefault(),t.stopPropagation()),$(this.serviceError).removeClass("error"),$(this.handle).hasClass("submitting")||this.validate()&&(Sprout.Utils.loader(!0),$(this.handle).addClass("submitting"),this.submit(this.getEntityformData()))},submit:function(t){this.webform.submit(t,this.onCardSubmission.bind(this))},onCardSubmission:function(t,e){var i=[];if(Sprout.Utils.loader(!1),t||e&&500===e.status){$(this.handle).removeClass("submitting"),Sprout.Utils.loader(!1),$(this.serviceError).addClass("error");for(var r in e)"status"!==r&&i.push('<li class="error">'+e[r]+"</li>");this.serviceError.querySelector("ul").innerHTML=i.join("")}else $(this.submitForm).addClass("done")}};
Sprout.Pages.character=function(e){var a=e.querySelectorAll(".audio");_.each(a,function(e){$(e).addClass("fx-wiggle"),setTimeout(function(){$(e).removeClass("fx-wiggle")},1e3)})},Sprout.Pages.character.prototype={};
Sprout.Pages.game=function(e){function t(){Sprout.Utils.animateIn(".fx-fadein",0)}var o=document.querySelector(".mobile section:not(.panel) .redirect.show-mobile");o||(o=document.querySelector(".tablet section:not(.panel) .redirect.show-tablet")),o?(o=o.getAttribute("data-redirect"),document.location.href=o):document.querySelector("main.game-detail > .blocker")&&setTimeout(Sprout.Components.login.open),e.addEventListener("viewPanelUpdate",t)},Sprout.Pages.game.prototype={};
Sprout.Pages.games=function(t){function e(){Sprout.Utils.animateIn(".fx-fadein",0)}this.filterify(),t.addEventListener("viewPanelUpdate",e)},Sprout.Pages.games.prototype={filterify:function(){}};
Sprout.Pages.home=function(e){function r(e){var r=document.querySelector(".hero"),t=document.querySelector(".birthday-hero-wrapper"),o=t.querySelector(".container"),i=t.querySelectorAll(".container-birth"),s=Object.keys(e).length,d=s%2+2;$(t).addClass("active"),_.each(e,function(e){var u=i[0].cloneNode(!0),l=u.querySelector(".picture");_.isEmpty(e.field_user_kid_first)||_.isEmpty(e.field_user_kid_message)||_.isEmpty(e.field_user_kid_photo)||_.isEmpty(e.field_user_kid_color)?$(r).addClass("show-carousel"):(u.querySelector(".sproutlet-name").innerHTML=e.field_user_kid_first.und[0].safe_value,u.querySelector("p").innerHTML=Sprout.Utils.nl2br(e.field_user_kid_message.und[0].safe_value),l.querySelector("img").setAttribute("src",e.field_user_kid_photo.und[0].uri),$(l).removeClass("birthday-ribbon"),o.appendChild(u),1===s?(r.setAttribute("style","background-color:"+e.field_user_kid_color.und[0].rgb+";"),$(l).addClass("birthday-ribbon")):($(t).addClass("birthday-ribbon"),$(u).addClass("sproutlet-birth sproutlet-birth-"+d)),$(r).addClass("birthday-hero"))}),o.removeChild(o.childNodes[1])}function t(){var e=document.querySelector(".hero");Sprout.Services.getSproutletTodayBirthdays(function(t,o){_.isEmpty(o)?$(e).addClass("show-carousel"):r(o)})}function o(){t()}o()},Sprout.Pages.home.prototype={};
Sprout.Pages["now-leaving"]=function(e){function n(){var n=e.querySelector(".cta-secondary");n.addEventListener("click",function(e){document.referrer&&(window.location=document.referrer),history.lenght>1&&history.back(-1),window.close()})}n()};
Sprout.Pages["reset-password"]=function(t){this.element=t,this.init()},Sprout.Pages["reset-password"].prototype={init:function(){this.element.querySelector("form").addEventListener("submit",this.submit.bind(this))},submit:function(t){var e=!0,i=new Validator,s=this.element.querySelectorAll(".field-item");_.each(s,function(t){e=i.check(t)&&e}),e?Sprout.Utils.loader(!0):(t.stopPropagation(),t.preventDefault())}};
Sprout.Pages.schedule=function(t){var e=t.querySelector(".jump"),r=t.querySelectorAll("#tv-listing li");e&&e.addEventListener("click",function(t){var e=this.getAttribute("href"),r=document.querySelector(e);Sprout.Utils.scrollPage(r)}),r&&_.each(r,function(t){t.addEventListener("click",function(){$(t).hasClass("active")?t.style.backgroundColor=t.getAttribute("data-background"):t.style.backgroundColor=""}),$(t).hasClass("active")&&(t.style.backgroundColor=t.getAttribute("data-background"))})};
Sprout.Pages.search=function(e){var i="/search/";i+=Sprout.Utils.isMobile?"mobile/":Sprout.Utils.isTablet?"tablet/":"site/";var o=window.location.href;o.indexOf(i)<0&&(window.location.href=o.replace(new RegExp(/\/search\/[\d,\w,\s]+\//),i))};
Sprout.Pages["show-detail"]=function(o){};
Sprout.Pages.shows=function(e){function r(){Sprout.Services.getShowsSchedule(function(o,t){var i;t&&(t.all&&_.each(t.all,function(r){if(_.isArray(r.show)&&r.show.length>0&&r.schedule){i=e.querySelector("#show-"+r.show[0].nid+" .airtime");var o=new Date(r.schedule.start_date.replace(/-/g,"/")),t=i.querySelector(".time");$(i).removeClass("on-air"),$(i).removeClass("u-hidden"),t.innerHTML=Sprout.Utils.formatDateTime(o)}}),t.on_air&&(_.isArray(t.on_air.show)&&t.on_air.show.length>0&&(i=e.querySelector("#show-"+t.on_air.show[0].nid+" .airtime"),i&&($(i).removeClass("u-hidden"),$(i).addClass("on-air"))),Sprout.Utils.setScheduleTimer(r,parseInt(t.current_time),t.on_air.start_seconds,t.on_air.end_seconds)),_.each(e.querySelectorAll(".show .airtime.u-hidden:not(.on-air)"),function(e){Sprout.Utils.showDefaultAirTime(e,t.current_date)}))})}r()};
Sprout.Pages.events=function(e){};
Sprout.Pages.user=function(t){this.element=t,this.init()},Sprout.Pages.user.prototype={init:function(){}};
Sprout.Pages.video=function(e){function t(){Sprout.Utils.animateIn(".fx-fadein",0)}e.addEventListener("viewPanelUpdate",t)},Sprout.Pages.video.prototype={};
Sprout.Pages.watch=function(e){function t(){Sprout.Utils.animateIn(".fx-fadein",0)}function o(e){$(e).addClass("episode-tile-show")}function n(){var t="PromotedEpisodeShown",n=e.querySelectorAll(".episode-tile"),i=0,s=decodeURIComponent(Sprout.Utils.cookies.getItem(t));n.length>0&&(s&&s<n.length-1&&(s++,i=s),o(n[i]),Sprout.Utils.cookies.setItem(t,i))}function i(){e.addEventListener("viewPanelUpdate",t),n()}i()};
Sprout.Components.channelFinder=function(e){function r(e,r){var n=[t,o,c];_.each(n,function(e){$(e).addClass("u-hidden")}),$(n[e-1]).removeClass("u-hidden"),r?$(c).addClass("error"):$(c).removeClass("error")}function n(e){var n=new Validator;n.check(t.querySelector(".field-item"))&&Sprout.Services.channelFinder({zip:a.value},function(e,n){try{n=JSON.parse(n)}catch(t){}n&&n.providers?(d.innerHTML="",_.each(n.providers,function(e){var r=document.createElement("li");r.innerHTML='<button id="provider-'+e.providerID+'">'+e.providerName+"</button>",r.addEventListener("click",function(){i(e.providerID,n.kpiID)}),d.appendChild(r)}),r(2)):r(3,!0)})}function i(e,n){Sprout.Services.channelFinder({kpiid:n,providerid:e},function(e,n){try{n=JSON.parse(n)}catch(i){}n.channelSD&&"0000"!==n.channelSD?(c.querySelector(".success").innerHTML="<h4>You can watch Sprout on "+n.providerName+" channel "+n.channelSD+"</h4>",r(3)):(c.querySelector(".fail").innerHTML="<h4>"+n.message+"</h4>",r(3,!0))})}var t=e.querySelector(".zip"),c=e.querySelector(".result"),o=e.querySelector(".providers"),u=e.querySelector(".zip button"),a=e.querySelector(".zip input"),d=e.querySelector(".providers ul"),l=e.querySelector(".result button");u.addEventListener("click",n),a.addEventListener("keyup",function(e){13===e.keyCode&&n()}),l.addEventListener("click",function(){r(1)})};
Sprout.Components.filter=function(t,e){function n(){var e=t.querySelectorAll(".selected");Sprout.Utils.switchElementsStatus(e,!1)}function i(){var i=null;return n(),e["default"]&&(i=t.querySelector(e["default"]),$(i).attr("aria-selected",!0),$(i).addClass("selected")),i}function r(r,a){r!==l?(n(),$(r).attr("aria-selected",!0),$(r).addClass("selected")):!a&&e.toggle&&(n(),r=i()),r!==l&&(l=r,a||t.dispatchEvent(c))}e||(e=Sprout.Utils.getDataOptions(t)),e=_.extend({"default":null,onchange:"filterchange",oninit:"filterinit",item:"a",toggle:!0},e),this.filterKey=Sprout.Utils.getDataValue(t,"filter");var a=t.querySelectorAll(e.item),l=_.find(a,function(t){return"true"===$(t).attr("aria-selected")});l||(l=i());var c=document.createEvent("Event");c.initEvent(e.onchange,!0,!0);var u=document.createEvent("Event");u.initEvent(e.oninit,!0,!0),_.each(a,function(t){t.addEventListener("click",function(t){r(this)})}),this.getActive=function(){return l},this.setActive=function(t){var e;t&&(e=_.find(a,function(e){var n=Sprout.Utils.getDataOptions(e);return n.id===t.id})),e?r(e,!0):l=i()},t.filter=this,t.dispatchEvent(u)};
Sprout.Components.login=function(t){this.element=t,this.enabled=!1,this.init()},Sprout.Components.login.constant={open:"show-login",close:"hide-login",forgot:"show-forgot-password"},Sprout.Components.login.open=function(t){if(Sprout.Utils.isMobile)t=t?"?destination="+t:"?destination="+document.location.pathname,document.location.href="/user"+t;else{var e=document.createEvent("Event");e.initEvent(Sprout.Components.login.constant.open,!0,!0),document.dispatchEvent(e)}},Sprout.Components.login.prototype={init:function(t){document.addEventListener(Sprout.Components.login.constant.open,this.open.bind(this)),document.addEventListener(Sprout.Components.login.constant.close,this.close.bind(this)),this.element.addEventListener("submit",this.submit.bind(this)),this.originalDestination=null,this.registerElement=this.element.querySelector(".register .cta"),this.destinationElement=this.element.querySelector("input[name=redirect]"),this.registerUrl=this.registerElement.href,this.destinationElement.addEventListener("change",this.updateDestination.bind(this)),this.updateDestination()},updateDestination:function(){this.originalDestination||(this.originalDestination=this.destinationElement.value),""===this.destinationElement.value&&(this.destinationElement.value=this.originalDestination);var t=this.registerUrl;this.destinationElement.value&&""!==this.destinationElement.value&&"user"!==this.destinationElement.value&&(t+=t.indexOf("?")>=0?"&":"?",t+="destination="+this.destinationElement.value),this.registerElement.href=t},open:function(){Sprout.Utils.toggleShowing("show-login",!0),Sprout.Components.forgotPassword.reset()},close:function(){Sprout.Utils.toggleShowing()},submit:function(t){var e=!0,n=new Validator,o=this.element.querySelectorAll(".field-item");_.each(o,function(t){e=n.check(t)&&e;var o=t.querySelectorAll("input, textarea");_.each(o,function(t){t.value=Sprout.Utils.htmlEscape(t.value)})}),e||(t.stopPropagation(),t.preventDefault())}},Sprout.Components.loginCta=function(t,e){function n(t){var e=document.querySelector("header .login input[name=redirect]");t?e.value=t:e.value="",e.dispatchEvent(a)}function o(o){var a=document.querySelector("body");if(!$(a).hasClass("mobile")&&document.querySelector("header .login")){switch(o.preventDefault(),o.stopPropagation(),n(),e.action){case"toggle":$(a).hasClass(Sprout.Components.login.constant.open)?t.dispatchEvent(s):(t.dispatchEvent(i),n(e.destination));break;case"open":t.dispatchEvent(i),n(e.destination);break;case"close":$(a).hasClass(Sprout.Components.login.constant.open)&&t.dispatchEvent(s)}Sprout.Utils.scrollPage(document.querySelector("header"))}}var i=document.createEvent("Event"),s=document.createEvent("Event"),a=document.createEvent("Event");switch(i.initEvent(Sprout.Components.login.constant.open,!0,!0),s.initEvent(Sprout.Components.login.constant.close,!0,!0),a.initEvent("change",!0,!0),e||(e=Sprout.Utils.getDataOptions(t)),e=_.extend({action:"toggle",auto:null,destination:null},e),e.auto){case"open":Sprout.Utils.isMobile?document.location.href="/user?destination="+document.location.pathname:(t.dispatchEvent(i),n(e.destination));break;case"close":t.dispatchEvent(s)}t.addEventListener("click",o)};
Sprout.Components.forgotPassword=function(t){this.element=t,this.enabled=!1,this.webform=new Sprout.Webform("forgotPassword_form","forgotPassword",!0),this.element.addEventListener("submit",this.submit.bind(this))},Sprout.Components.forgotPassword.reset=function(){var t=document.querySelector("body"),e=document.querySelector(".forgot-password");$(t).removeClass(Sprout.Components.login.constant.forgot),Sprout.Utils.resetForm(e),$(e).removeClass("done")},Sprout.Components.forgotPassword.prototype={submit:function(t){var e=!0,o=new Validator,r=this.element.querySelectorAll(".field-item");if(_.each(r,function(t){e=o.check(t)&&e}),t&&(t.stopPropagation(),t.preventDefault()),e){var s=Sprout.Utils.getFormValues(this.element);Sprout.Utils.loader(!0),this.webform.submit(s,this.onSubmit.bind(this))}},onSubmit:function(t){var e;Sprout.Utils.loader(!1),t&&200!==t.status?(e=this.element.querySelector(".field-item"),$(e).addClass("error error-service")):$(this.element).addClass("done")}};
Sprout.Components.splash=function(e){var t=document.getElementsByTagName("html")[0];setTimeout(function(){$(e).addClass("animated")},500),e.querySelector(".cta").addEventListener("click",function(e){e.preventDefault(),$(t).hasClass("ie")||history.replaceState({},"","?redirect=false"),$(t).addClass("splash-out"),setTimeout(function(){$(t).removeClass("splash-out show-home-splash")},100)})};
Sprout.Sproutlet={},Sprout.Sproutlet.create=function(e,t){this.element=e,this.callback=t,this.webform=new Sprout.Webform("create_sproutlet_form","create_sproutlet"),this.init()},Sprout.Sproutlet.create.prototype={init:function(){var e=this.element.querySelector(".js-submit");e.addEventListener("click",this.submit.bind(this)),this.validator=new Validator;var t=this.element.querySelector(".js-close");t&&t.addEventListener("click",this.clearNewSproutlet.bind(this))},clearNewSproutlet:function(){Sprout.Utils.resetForm(this.element)},submit:function(e){if(e&&(e.stopPropagation(),e.preventDefault()),!$(this.element).hasClass("processing")){var t=this,i=!0,s=this.element.querySelectorAll(".field-item"),l={hostEntityType:"user",field_name:"field_user_sproutlet",field_state:{und:[{value:""}]},field_user_kid_city:{und:[{value:""}]},field_user_kid_dob:{und:[{value:""}]},field_user_kid_first:{und:[{value:""}]},field_user_kid_special_needs:{und:[{value:"0"}]}},r={sproutlet_dob_month:"",sproutlet_dob_day:"",sproutlet_dob_year:""};_.each(s,function(e){i=t.validator.check(e)&&i}),i&&(_.each(s,function(e){var t;$(e).removeClass("error"),$(e).hasClass("dob")?(r=Sprout.Utils.getFormValues(e),l.field_user_kid_dob.und[0].value=r.sproutlet_dob_year+"-"+Sprout.Utils.fillString(r.sproutlet_dob_month.toString(),2,"0")+"-"+Sprout.Utils.fillString(r.sproutlet_dob_day.toString(),2,"0")+" 00:00:00"):$(e).hasClass("special-needs")?(t=e.querySelector("input"),l[t.id].und[0].value=t.checked?"1":"0"):(t=e.querySelector("input"),l[t.id].und[0].value=$(t).val())}),i&&($(this.element).addClass("processing"),Sprout.Utils.loader(!0),this.webform.submit(l,this.success.bind(this))))}},success:function(e,t){var i,s,l,r;if(e||!t);else if(t.exception)for(var u in t.exception){switch(u){case"field_user_kid_dob":l="dob";break;case"field_state":l="state";break;case"field_user_kid_city":l="city";break;case"field_user_kid_first":l="firstname";break;case"field_user_kid_special_needs":l="special-needs"}i=this.element.querySelector(".field-item."+l),$(i).addClass("error")}else r=t.field_user_kid_dob.und[0].value,s={id:t.item_id,sproutlet_state:t.field_state.und[0].value,sproutlet_hometown:t.field_user_kid_city.und[0].value,sproutlet_birthday:r.split(" ")[0],sproutlet_name:t.field_user_kid_first.und[0].value,sproutlet_special_needs:t.field_user_kid_special_needs.und[0].value},this.clearNewSproutlet();this.callback&&this.callback(e,s),Sprout.Utils.loader(!1),$(this.element).removeClass("processing")}};
function Validator(){var e={email:/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,confirmEmail:/.*/,dob:/^(0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])[\/\-]\d{4}$/,phone:/^[(]{0,1}[0-9]{3}[)]{0,1}[-\s\.]{0,1}[0-9]{3}[-\s\.]{0,1}[0-9]{4}$/,zip:/^\d{5}$/,password:/^(?=.*\d)(?=.*[A-Z]).{6,}$/},r="placeholder"in document.createElement("input");return{updateRule:function(r,t){e[r]=t},check:function(t,a){function s(){var e=!0;return _.each(n,function(r){e=i.call(r)&&e}),e?(l&&($(t).removeClass("error-required"),$(t).removeClass("error-rule"),$(t).removeClass("error-match"),$(t).removeClass("error-service"),t.dispatchEvent(c),a&&a.call()),$(t).removeClass("error")):(l&&t.dispatchEvent(o),$(t).addClass("error")),e}function i(s){var i,n,u,d,h,v=this.hasAttribute("required"),m=$(this).attr("data-validate"),p=$(this).attr("data-match"),C=!0,E=[];return l||($(t).removeClass("error-required"),$(t).removeClass("error-rule"),$(t).removeClass("error-match"),$(t).removeClass("error-service")),this.disabled||(v?(d=this.getAttribute("type"),"radio"===d?(h=this.getAttribute("name"),u=t.querySelectorAll('input[name="'+h+'"]:checked'),i=u.length<1?!1:!0):"checkbox"===d?i=this.checked:"file"===d?i=this.value.length>0?!0:!1:(n=this.value.trim(),r||this.value!==this.getAttribute("placeholder")?this.value=n:n="",i=n.length>0?!0:!1),i||E.push("error-required")):i=!0,i&&m&&e[m]&&("function"==typeof e[m]?i=e[m]():null===this.value.match(e[m])&&(i=!1),i||E.push("error-rule")),i&&p&&(p=document.querySelector(p),i=p?p.value===this.value:!1,i||E.push("error-match")),i?h?(u=t.querySelectorAll('input[name="'+h+'"]'),_.each(u,function(e){$(e).removeClass("error")})):$(this).removeClass("error"):($(this).addClass("error"),C=!1)),l?C||$(t).addClass(E.join(" ")):C?($(t).removeClass("error"),t.dispatchEvent(c),a&&a.call()):($(t).addClass("error"),$(t).addClass(E.join(" ")),t.dispatchEvent(o)),!r&&this.getAttribute("placeholder")&&this.value===this.getAttribute("placeholder")&&this.focus(),C}var n=t.querySelectorAll("input, select, textarea"),l=$(t).attr("data-group"),o=document.createEvent("Event");o.initEvent("validation:failure",!0,!0);var c=document.createEvent("Event");c.initEvent("validation:success",!0,!0);var u=_.debounce(l?s:i,100);return _.each(n,function(e){var r=$(e).attr("data-match");e.removeEventListener("change",u.bind(e)),e.addEventListener("change",u.bind(e)),r&&(r=document.querySelector(r),r&&(r.removeEventListener("change",u.bind(e)),r.addEventListener("change",u.bind(e))))}),s()}}}
function sendMessageToAdsComponent(e){window.postMessage(e,document.location.href)}function displayMediaError(){videoLoader(),Sprout.Utils.modal("#videoDetailSproutNow",!0)}function initializeTVE(){adobePass=tve.adobePass.getInstance({adobePassAccessEnablerMode:adobePassShim.isSwf?"flash":"script"}),adobePass.subscribe(tve.adobePass.events.AUTHN_CHECKED,function(e,t){t.isAuthenticated?window.updateSelectedMVPD(t.mvpdId):window.updateSelectedMVPD()}),window.sendTrackingData=function(e,t){"authenticationDetection"===e&&(t[0]?window.updateSelectedMVPD(t[1]):window.updateSelectedMVPD())}}function initializeAdobePass2(e){function t(e){if(videoLoader(),window.providerDialogEnabled){var t=document.querySelector(".mvpd-access");t&&t["mvpd-access"]&&t["mvpd-access"].show()}else adobePass&&adobePass.login?adobePass.login():adobePassShim.setSelectedProvider()}function a(e,t){window.mvpdFrame&&!window.mvpdFrame.closed&&(window.mvpdFrame.opener=window,window.mvpdFrame.resizeTo(e,t),window.mvpdFrame.innerWidth=e,window.mvpdFrame.innerHeight=t,window.mvpdFrame.focus())}function o(e){}function i(){}function s(e,t){e||"generic authentication error"!==t.toLowerCase()||displayMediaError()}function d(t,a){switch(videoLoader(),t){case"authenticationDetection":window.updateSelectedMVPD&&(a[0]&&a[1]?(window.updateSelectedMVPD(a[1]),adobePassShim.setResourceId("sprout")):window.updateSelectedMVPD());break;case"authorizationDetection":a[0]?($(document.body).removeClass("video-provider-error"),e.autoplay&&$pdk.controller.clickPlayButton()):($(document.body).addClass("video-provider-error"),displayMediaError())}}function n(){displayMediaError()}window.onEntitlementLoadedCallback=i,window.swfLoaded=function(){adobePassShim.setProviderDialogURL("NOFLASH"),Sprout.Utils.cookies.test()||displayMediaError()},window.displayProviderDialog=t,window.displayMVPDPickerCallback=t,window.onAuthenticationStatusCallback=s,window.onTrackingDataCallback=d,window.sendTrackingData=d,window.createMVPDIFrame=a,window.traceToken=o,window.tokenRequestFailedCallback=n,window.entitlementLoaded=function(){var e="sprout";accessEnabler.setRequestor(e),accessEnabler.checkAuthentication()}}var pdkBasePath="/sites/sprout/themes/sprout_twig/js/libs/pdk/",videoLoader,accessEnabler,mvpdService,adobePass,tve,adobePassShim;window.updateSelectedMVPD=function(e){e?$(document.body).addClass("has-video-provider"):$(document.body).removeClass("has-video-provider")},window.tpUseCustomMVPDPicker=!0,adobePassShim={isSwf:!0,playerLoaded:!1,adobePassJS:{},adobePassSwf:"",resourceIdField:"resourceId",setJSAP:function(e){this.adobePassJS=e,this.isSwf=!1},setSwfAP:function(e){this.adobePassSwf=e,this.isSwf=!0},getAdobePass:function(){return this.isSwf?document.getElementById(this.adobePassSwf):this.adobePassJS},init:function(){$pdk.controller.addEventListener("OnPlayerLoaded",adobePassShim.registerAdobePassPlugin)},parseResourceIds:function(e){window.adobePassResourceIds={};for(var t=decodeURIComponent(e).split(","),a=0;a<t.length;a++){var o=t[a].split(":");window.adobePassResourceIds[o[0]]=o[1]}},registerAdobePassPlugin:function(){this.playerLoaded||(this.playerLoaded=!0)},setRequestor:function(){this.isSwf?document.getElementById(this.adobePassSwf).ap_setRequestor():this.adobePassJS.setRequestor()},getAuthorization:function(e){this.isSwf?document.getElementById(this.adobePassSwf).ap_getAuthorization(e):this.adobePassJS.getAuthorization(e)},checkAuthorization:function(e){this.isSwf?document.getElementById(this.adobePassSwf).ap_checkAuthorization(e):this.adobePassJS.checkAuthorization(e)},checkAuthentication:function(){this.isSwf?document.getElementById(this.adobePassSwf).ap_checkAuthentication():this.adobePassJS.checkAuthentication()},setProviderDialogURL:function(e){this.isSwf&&document.getElementById(this.adobePassSwf).ap_setProviderDialogURL(e)},getAuthentication:function(){this.isSwf?document.getElementById(this.adobePassSwf).ap_getAuthentication():this.adobePassJS.getAuthentication()},setSelectedProvider:function(e){this.isSwf?document.getElementById(this.adobePassSwf).ap_setSelectedProvider(e):this.adobePassJS.setSelectedProvider(e)},getSelectedProvider:function(){this.isSwf?document.getElementById(this.adobePassSwf).ap_getSelectedProvider():this.adobePassJS.getSelectedProvider()},selectedProvider:function(e){this.isSwf?document.getElementById(this.adobePassSwf).ap_selectedProvider(e):this.adobePassJS.selectedProvider(e)},getMetadata:function(e,t){this.isSwf?document.getElementById(this.adobePassSwf).ap_getMetadata(e,t):this.adobePassJS.getMetadata(e,t)},setResourceId:function(e){if(this.isSwf){var t=document.getElementById(this.adobePassSwf);t.ap_setResourceId(e)}else this.adobePassJS.setResourceId(e)},setAuthenticationStatus:function(e){this.isSwf||this.adobePassJS.setAuthenticationStatus(e)},setToken:function(e,t){this.isSwf||this.adobePassJS.setToken(e,t)},setMetadataStatus:function(e,t,a){this.isSwf?document.getElementById(this.adobePassSwf).ap_setMetadataStatus(e,t,a):this.adobePassJS.setMetadataStatus(e,t,a)},logout:function(){this.isSwf?document.getElementById(this.adobePassSwf).ap_logout():this.adobePassJS&&this.adobePassJS.logout()}},videoLoader=function(e){},Sprout.Components.video=function(e,t){function a(){Sprout.Utils.isMobile&&$pdk.controller.addEventListener("OnPlayButtonClicked",function(e){$pdk.controller.showFullScreen(!0)}),$pdk.controller.addEventListener("OnMediaStart",function(t){$(e).addClass("started").removeClass("is-loading")}),$pdk.controller.addEventListener("OnMediaPlaying",function(t){$(e).addClass("is-playing")}),$pdk.controller.addEventListener("OnMediaPause",function(t){$(e).removeClass("is-playing")}),$pdk.controller.addEventListener("OnMediaEnd",function(a){$(e).removeClass("is-playing").removeClass("started"),t.liveFeed||sendMessageToAdsComponent("videoCompleted")}),$pdk.controller.addEventListener("OnMediaComplete",function(a){$(e).removeClass("is-playing").removeClass("started"),t.liveFeed||sendMessageToAdsComponent("videoCompleted")}),$pdk.controller.addEventListener("OnMediaLoadStart",function(t){$(e).addClass("is-loading")}),$pdk.controller.addEventListener("OnCredentialAcquisitionFailed",function(e){displayMediaError()})}function o(){if(i=new Player("player"),t["protected"]&&adobePassShim.isSwf&&i.setRuntime("Flash"),i.autoplay=t.autoplay&&!t["protected"],i.logLevel="fatal",t.liveFeed?(i.formats="F4M,MPEG4",i.layoutUrl=t.skinPath+"sprout-live.xml"):(i.releaseURL=t.video,i.layoutUrl=t.skinPath+"sprout.xml"),i.skinURL=t.skinPath+"sproutcustom/sproutcustom.json",i.endCard="none",t["protected"]&&(i.pluginAkamaiSwf="type=content|url="+pdkBasePath+"swf/akamaiHD.swf|fallback=switch%3Dhttp|bufferProfile=livelowlatency|enableDVR=true|priority=1|manifest=true|hosts=.akamaihd.net",i.pluginAkamaiJs="type=content|url="+pdkBasePath+"js/plugins/akamaiHD.js|fallback=switch%3Dhttp|bufferProfile=livelowlatency|enableDVR=true|priority=1|manifest=true|hosts=.akamaihd.net",i.pluginPickerSwf="type=picker|URL="+pdkBasePath+"swf/mvpdPicker.swf|priority=2|useCustomMVPDPicker=true",i.pluginPickerJs="type=picker|URL="+pdkBasePath+"js/plugins/mvpdPicker.js|priority=2|useCustomMVPDPicker=true",i.pluginAdobePassSwf="type=auth|URL="+pdkBasePath+"swf/adobePass.swf|priority=3|accessEnablerURL=http://entitlement.auth.adobe.com/entitlement/AccessEnabler.swf|requestorId=sprout|createIFrameCallback=createMVPDIFrame|sendTrackingDataCallback=onTrackingDataCallback|setTokenCallback=traceToken|tokenRequestFailedCallback=tokenRequestFailedCallback|setAuthenticationStatusCallback=onAuthenticationStatusCallback|promptImmediately=true|displayProviderDialogCallback=displayMVPDPickerCallback|swfLoadedCallback=swfLoaded",i.pluginAdobePassJs="type=auth|URL="+pdkBasePath+"js/plugins/adobePass.js|priority=3|accessEnablerURL=http://entitlement.auth.adobe.com/entitlement/AccessEnabler.js|requestorId=sprout|createIFrameCallback=createMVPDIFrame|sendTrackingDataCallback=onTrackingDataCallback|setTokenCallback=traceToken|tokenRequestFailedCallback=tokenRequestFailedCallback|setAuthenticationStatusCallback=onAuthenticationStatusCallback|promptImmediately=true|displayProviderDialogCallback=displayMVPDPickerCallback",t.autoplay?(i.pluginAdobePassSwf+="|entitlementLoadedCallback=onEntitlementLoadedCallback",i.pluginAdobePassJs+="|entitlementLoadedCallback=onEntitlementLoadedCallback"):(i.pluginAdobePassSwf+="|entitlementLoadedCallback=onEntitlementLoadedAuthenticateCallback",i.pluginAdobePassJs+="|entitlementLoadedCallback=onEntitlementLoadedAuthenticateCallback"),t.liveFeed&&(i.pluginLiveCaptionsSwf="type=captions|url="+pdkBasePath+"swf/liveCaptions.swf|priority=4")),a(),t.liveFeed){var e=new ReleaseModel("releaseModelDiv");e.feedsServiceURL=t.video,e.feedsServiceURL="https://web.archive.org/web/20151103154620/http://feed.theplatform.com/f/HNK2IC/sprout_live",e.shuffle=!0,e.autoLoad=!0,e.scopes=["primary_player"],e.autoPlay=!0,e.params="byContent=byFormat%3Df4m",e.endIndex=4,e.bind("releaseModelDiv"),$pdk.controller.addEventListener("OnRefreshReleaseModel",function(e){i.releaseURL=e.data.entries[0].url,i.formats=e.data.entries[0].format,i.bind()})}else i.bind()}var i;e.querySelectorAll(".video-wrapper .icon-watch");return t||(t=Sprout.Utils.getDataOptions(e)),"not-mobile"===t.autoplay?t.autoplay=Sprout.Utils.isMobile||Sprout.Utils.isTablet?!1:!0:t.autoplay="true"===t.autoplay,t=_.extend({autoplay:!1},t),t["protected"]&&(Sprout.Utils.isMobile||Sprout.Utils.isTablet)?void(document.location="/games/sprout-now-app"):(t["protected"]&&(window.providerDialogEnabled=t.autoplay,Sprout.Utils.cookies.test()||setTimeout(displayMediaError),(videoLoader=function(t){var a=e.querySelector(".loader");t?($(e).addClass("detecting-provider"),$(a).addClass("active")):($(e).removeClass("detecting-provider"),$(a).removeClass("active"))})(!0)),void($(document.documentElement).hasClass("ie")||t["protected"]&&(initializeAdobePass2(t),o(),$(".video-info-overlay").click(function(a){$(e).hasClass("started")?$pdk.controller.pause():t["protected"]&&!$(document.body).hasClass("has-video-provider")?(window.providerDialogEnabled=!0,adobePass?adobePass.initiateCheckAuthProcess():adobePassShim.getAuthentication()):$pdk.controller.clickPlayButton()}))))},Sprout.Components["mvpd-access"]=function(e,t){function a(e){adobePass&&adobePass.login?adobePass.login(e):(e&&((!window.mvpdFrame||window.mvpdFrame.closed)&&(window.mvpdFrame=window.open(null,"mvpdframe","width=600,height=500,resizable=1,modal=1,dialog=1"),window.focus()),adobePassShim.setSelectedProvider(e),n.modal.hide()),adobePassShim.setSelectedProvider())}function o(e){e.stopPropagation(),e.preventDefault(),a(e.target.id)}function i(t,a){var i=e.querySelector(".mvpd-grid");d=a,Sprout.Utils.loader(!1),_.each(a.featured,function(e){Sprout.mvpd[e.mvpd_id]=e;var t=document.createElement("li"),a=document.createElement("a"),s=document.createElement("img");s.src=e.mvpd_logo,s.alt=e.title,s.id=e.mvpd_id,a.href=e.mvpd_url,a.id=e.mvpd_id,a.appendChild(s),t.appendChild(a),i.appendChild(t),a.addEventListener("click",o.bind(r))}),_.each(a.not_featured,function(e){Sprout.mvpd[e.mvpd_id]=e}),l.setData(_.pluck(a.featured.concat(a.not_featured),"title"))}function s(e){e.preventDefault(),e.stopPropagation();var t;l.value&&(t=_.findWhere(d.featured.concat(d.not_featured),{title:l.value}),t&&a(t.mvpd_id))}var d,n=document.getElementById("mvpd-access-modal"),r=this,l=e.querySelector("input"),c=e.querySelector("button"),u=e.querySelector(".js-modal-close");window.addEventListener("beforeunload",function(){window.mvpdFrame&&(window.mvpdFrame.close(),window.mvpdFrame=null)}),this.show=function(t){t&&(d=t),$(e).removeClass("select-mvpd"),d?Sprout.Utils.loader(!1):(Sprout.Utils.loader(!0),Sprout.Services.getMVPD(i.bind(r))),n.modal.show()},e["mvpd-access"]=this,c.addEventListener("click",s),l.addEventListener("select",s),u.addEventListener("click",function(){a()})},Sprout.Components["mvpd-provider"]=function(e,t){function a(t){t?($(document.body).addClass("has-video-provider"),e.querySelector(".provider-logo").href=t.mvpd_url,e.querySelector("img").src=decodeURIComponent(t.mvpd_color)):$(document.body).removeClass("has-video-provider")}function o(e){e?Sprout.mvpd[e]?a(Sprout.mvpd[e]):Sprout.Services.getMVPD(function(e,t){t&&t.status?a(t.mvpd):a()},e):a()}e.querySelector(".logout").addEventListener("click",function(){$(document.body).removeClass("has-video-provider"),adobePass&&adobePass.logout?adobePass.logout():adobePassShim.logout(),setTimeout(window.location.reload,3e3)}),window.updateSelectedMVPD=o},window.entitlementLoaded=function(){initializeTVE()};
var google;Sprout.Components.videoAd=function(e){function t(){E=new google.ima.AdDisplayContainer(L,m)}function o(){t(),v=new google.ima.AdsLoader(E),v.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,i,!1),v.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r,!1),c=new google.ima.AdsRequest;var e="pos=video&s1="+f.s1+"&s2="+f.s2+"&show="+f.show;f.episode&&(e+="&episodeid="+f.episode),f.test&&(e+="&test="+f.test),c.adTagUrl="https://web.archive.org/web/20151103154620/http://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=5184/sprout.main/"+f.s1+"&gdfp_req=1&impl=s&env=vp&cmsid=&vid=&output=xml_vast2&unviewed_position_start=1&description_url=http://sproutonline.com&cust_params="+encodeURIComponent(e)+"&url="+f.url+"&correlator=[timestamp]&",c.linearAdSlotWidth=640,c.linearAdSlotHeight=480,c.nonLinearAdSlotWidth=640,c.nonLinearAdSlotHeight=150,C="https://web.archive.org/web/20151103154620/http://player.theplatform.com",f.inline&&(C=f.url),S=f.inline?window:document.querySelector(f.videoWrapper).contentWindow,window.addEventListener("message",p,!1)}function n(){E.initialize(),v.requestAds(c)}function i(e){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,u=e.getAdsManager(m,t),u.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,r),u.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,s),u.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,l),u.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,d),u.addEventListener(google.ima.AdEvent.Type.LOADED,d),u.addEventListener(google.ima.AdEvent.Type.STARTED,d),u.addEventListener(google.ima.AdEvent.Type.COMPLETE,d);try{u.init(640,480,google.ima.ViewMode.NORMAL),u.start()}catch(o){l()}}function a(t){var o=e.querySelector(".loader");t?$(o).addClass("active"):$(o).removeClass("active")}function d(t){var o=t.getAd(),n=!1;switch(a(!1),t.type){case google.ima.AdEvent.Type.LOADED:a(!0),n=!0,T.innerHTML="",o.isLinear()||l();break;case google.ima.AdEvent.Type.STARTED:s(),n=!0,o.isLinear()&&(A=setInterval(function(){var e=u.getRemainingTime(),t=Sprout.Utils.fillString(Math.floor(e/60).toString(),2,"0");t+=":"+Sprout.Utils.fillString(Math.floor(e%60).toString(),2,"0"),T.innerHTML=t},300));break;case google.ima.AdEvent.Type.COMPLETE:l(),o.isLinear()&&(clearInterval(A),A=null);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:l(),o.isLinear()&&(clearInterval(A),A=null)}n?$(e).addClass("show-label"):$(e).removeClass("show-label")}function r(e){l(),u&&u.destroy()}function s(){g("adPauseRequested"),$(e).addClass("active")}function l(){g("adResumeRequested"),$(e).removeClass("active"),A&&(clearInterval(A),A=null)}function g(e){S.postMessage(e,C)}function p(t){if(0===C.indexOf(t.origin)&&y!==t.data)switch(y=t.data,t.data){case"showAdsCard":$(e).addClass("active");break;case"initializeVideoAds":$(e).addClass("active"),n();break;case"videoCompleted":}}var u,v,c,E,A,m,L,T,S,C,y,f=Sprout.Utils.getDataOptions(e);f=_.extend({videoContent:"#sproutAdsVideoContainer",adContainer:"#sproutAdsContainer",videoWrapper:"#sproutVideoIframe",countdown:"#sproutAdsCountdown",inline:!0},f),m=e.querySelector(f.videoContent),L=e.querySelector(f.adContainer),T=e.querySelector(f.countdown),Sprout.Utils.isMobile||Sprout.Utils.isTablet||o()};
Sprout.Components.viewPanel=function(e,t){function n(n,i){var a=e.querySelector(t.content);if(a||(a=e.querySelector(t.container)),a&&n){var r=a.querySelector(t.pager);if(i?(a.removeChild(r),a.innerHTML+=n):a.innerHTML=n,t.autoScroll&&window.location.search.length>0){var o=e.querySelector(".view-list");Sprout.Utils.scrollPage(o)}Sprout.Components._init(a),g=e.querySelectorAll(".filter"),f()}}function i(){var n=e.querySelector(t.container);return n&&""!==n.innerHTML.trim()}function a(t,i,a){n(i,a),setTimeout(function(){e.dispatchEvent(S)},0)}function r(e){var t,n={},i={};return _.each(g,function(e){if(e.filter&&e.filter.getActive()){t=e.filter.getActive();var a=Sprout.Utils.getDataValue(e,"filter"),r=Sprout.Utils.getDataOptions(t);i[a]=r,n[a]=r.id}}),l(i,e),n}function o(n,o,l,c,u){var s,v={};void 0===l&&(l=!1),l?(_.each(g,function(e,t){e.filter&&e.filter.setActive(c.filters[e.filter.filterKey])}),_.each(c.filters,function(e,t){v[t]=e.id}),s=null):v=r(u),i()&&(u?Sprout.Utils.emptyElement(e.querySelector(t.container)):(v.vmode="clean",o&&(v.page=o))),n&&t.view&&(d=v,p||(p=setTimeout(function(){$(e).addClass("loading"),p=null},1e3)),Sprout.Services.getView(t.view,v,function(t,n){p&&(clearTimeout(p),p=null),$(e).removeClass("loading"),(u||d===v)&&(a(t,n,o),d=null)}))}function l(e,n){if(w){var i=[],a=window.location.pathname;switch(w){case"featured":break;case"shows":t.view.indexOf("watch/byshow")<0&&i.push("mode=byshow");break;default:i.push("mode=by"+w)}_.each(e,function(e,t){"all"!==e.name.toLowerCase()&&"all ages"!==e.name.toLowerCase()&&i.push(t+"="+e.name)});var r={panel:w,filters:e};i.length>0&&(a+="?"+i.join("&")),(window.location.pathname+window.location.search!==a||n)&&history.pushState&&(n?history.replaceState(r,"",a):history.pushState(r,"",a))}}function c(e){return Array.prototype.some.call(g,function(t){return t===e})}function u(n){if(c(n.target)){m(!0);var i=e.querySelector(t.content);"show"===Sprout.Utils.getDataValue(n.target,"filter")&&Sprout.Utils.scrollPage(i)}}function s(e){c(e.target)&&r(!0)}function v(t){e===t.target.tabPanel.getActive().panel&&m(!i())}function f(){var n,i;e.removeEventListener("filterchange",u),e.addEventListener("filterchange",u);var a=e.querySelector(t.content);a&&(n=a.querySelector(t.pager),n&&(i=Sprout.Utils.getDataOptions(n),i.next&&n.addEventListener("click",function(e){m(!0,i.next)})))}var d=null,p=null;t||(t=Sprout.Utils.getDataOptions(e));var w=e.getAttribute("aria-labelledby"),h=Sprout.Utils.getParentMatch(e,".tab-component");Sprout.Utils.isTablet&&t.viewTablet&&(t.view=t.viewTablet),Sprout.Utils.isMobile&&t.viewMobile&&(t.view=t.viewMobile),t=_.extend({container:".view",content:".view-list ul",onupdate:"viewPanelUpdate",pager:".show-more",autoScroll:!1},t);var g=e.querySelectorAll(".filter"),S=document.createEvent("Event");S.initEvent(t.onupdate,!0,!0);var m=_.debounce(o,200);f(),t.updateOnPageLoad?setTimeout(function(){$(e).addClass("first-load"),o(!0,0,!1,null,!0),$(e).removeClass("first-load")}):$(e).hasClass("selected")&&(g.length?(e.removeEventListener("filterinit",s),e.addEventListener("filterinit",s)):r(!0)),window.addEventListener("popstate",function(e){if(e.state&&e.state.panel===w){var t=window.location.pathname;"/watch"!==t&&h.tabPanel.setActive(w),o(!0,0,!0,e.state)}}),document.addEventListener("tabchange",v)};
Sprout.Webform=function(t,e,i){this.id=t,this.anonymous=i,this.user=null,this.type=e},Sprout.Webform.prototype={submit:function(t,e){var i=this;this.anonymous||this.user?this.doSubmit(t,e):Sprout.Utils.isUserAuthenticated&&Sprout.Services.getUser(function(s,u){i.user=u,i.doSubmit(t,e)})},doSubmit:function(t,e){switch(t=this.sanitizeData(t),this.type){case"entityform":t.uid=this.user.uid,t.type=this.id,Sprout.Services.entityformSubmission(t,e);break;case"create-account":Sprout.Services.register(t,e);break;case"update-account":Sprout.Services.updateAccount(this.user.uid,t,e);break;case"forgotPassword":Sprout.Services.forgotPassword(t,e);break;case"create_sproutlet":t.hostEntityId=this.user.uid,Sprout.Services.addSproutlet(t,e);break;default:Sprout.Services.webformSubmission(this.id,t,e)}},sanitizeData:function(t){var e=this;for(var i in t)if("object"==typeof t[i]&&"object"==typeof t[i].und&&null!==t[i].und)for(var s=0;s<t[i].und.length;s++)switch(typeof t[i].und[s].value){case"object":t[i].und[s].value=e.sanitizeData(t[i].und[s].value);break;case"undefined":t[i].und[s]=e.sanitizeData(t[i].und[s]);break;default:t[i].und[s].value=Sprout.Utils.htmlEscape(t[i].und[s].value)}else"string"==typeof t[i]&&(t[i]=Sprout.Utils.htmlEscape(t[i]));return t}};
}
/*
     FILE ARCHIVED ON 15:46:20 Nov 03, 2015 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 17:11:35 Dec 29, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 1.469
  exclusion.robots: 0.033
  exclusion.robots.policy: 0.02
  esindex: 0.012
  cdx.remote: 8.331
  LoadShardBlock: 210.106 (3)
  PetaboxLoader3.datanode: 202.551 (4)
  PetaboxLoader3.resolve: 65.267 (2)
  load_resource: 68.15
*/